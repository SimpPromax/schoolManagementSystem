2026-01-26T00:00:00.014+03:00  INFO 16216 --- [school-management-system] [sms-scheduler-5] c.s.S.t.service.TermService              : ðŸ”„ Updating term statuses...
2026-01-26T00:00:00.023+03:00 DEBUG 16216 --- [school-management-system] [sms-scheduler-5] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0
2026-01-26T00:00:00.041+03:00  INFO 16216 --- [school-management-system] [sms-scheduler-5] c.s.S.t.service.TermService              : âœ… Term status update completed
2026-01-26T00:03:02.228+03:00 DEBUG 16216 --- [school-management-system] [sms-scheduler-4] c.s.S.fee.service.FeeCollectionService   : Cleaning expired cache entries...
2026-01-26T00:03:02.229+03:00 DEBUG 16216 --- [school-management-system] [sms-scheduler-4] org.hibernate.SQL                        : 
    select
        fdc1_0.cache_key,
        fdc1_0.cache_data,
        fdc1_0.cache_type,
        fdc1_0.created_at,
        fdc1_0.data_date,
        fdc1_0.expires_at,
        fdc1_0.updated_at 
    from
        fee_dashboard_cache fdc1_0 
    where
        fdc1_0.expires_at<?
2026-01-26T00:08:02.241+03:00 DEBUG 16216 --- [school-management-system] [sms-scheduler-4] c.s.S.fee.service.FeeCollectionService   : Cleaning expired cache entries...
2026-01-26T00:08:02.242+03:00 DEBUG 16216 --- [school-management-system] [sms-scheduler-4] org.hibernate.SQL                        : 
    select
        fdc1_0.cache_key,
        fdc1_0.cache_data,
        fdc1_0.cache_type,
        fdc1_0.created_at,
        fdc1_0.data_date,
        fdc1_0.expires_at,
        fdc1_0.updated_at 
    from
        fee_dashboard_cache fdc1_0 
    where
        fdc1_0.expires_at<?
2026-01-26T00:13:02.253+03:00 DEBUG 16216 --- [school-management-system] [sms-scheduler-4] c.s.S.fee.service.FeeCollectionService   : Cleaning expired cache entries...
2026-01-26T00:13:02.254+03:00 DEBUG 16216 --- [school-management-system] [sms-scheduler-4] org.hibernate.SQL                        : 
    select
        fdc1_0.cache_key,
        fdc1_0.cache_data,
        fdc1_0.cache_type,
        fdc1_0.created_at,
        fdc1_0.data_date,
        fdc1_0.expires_at,
        fdc1_0.updated_at 
    from
        fee_dashboard_cache fdc1_0 
    where
        fdc1_0.expires_at<?
2026-01-26T00:18:02.262+03:00 DEBUG 16216 --- [school-management-system] [sms-scheduler-4] c.s.S.fee.service.FeeCollectionService   : Cleaning expired cache entries...
2026-01-26T00:18:02.264+03:00 DEBUG 16216 --- [school-management-system] [sms-scheduler-4] org.hibernate.SQL                        : 
    select
        fdc1_0.cache_key,
        fdc1_0.cache_data,
        fdc1_0.cache_type,
        fdc1_0.created_at,
        fdc1_0.data_date,
        fdc1_0.expires_at,
        fdc1_0.updated_at 
    from
        fee_dashboard_cache fdc1_0 
    where
        fdc1_0.expires_at<?
2026-01-26T00:20:41.523+03:00  INFO 16216 --- [school-management-system] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-26T00:20:41.536+03:00  INFO 16216 --- [school-management-system] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-26T00:20:41.550+03:00  INFO 16216 --- [school-management-system] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-26T00:20:41.553+03:00  INFO 16216 --- [school-management-system] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-26T00:20:41.556+03:00  INFO 16216 --- [school-management-system] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-26T00:21:15.468+03:00  INFO 5928 --- [school-management-system] [main] c.s.S.SchoolManagementSystemApplication  : Starting SchoolManagementSystemApplication using Java 21.0.8 with PID 5928 (C:\Users\hp\Desktop\intelije\school-management-system\target\classes started by hp in C:\Users\hp\Desktop\intelije\school-management-system)
2026-01-26T00:21:15.473+03:00 DEBUG 5928 --- [school-management-system] [main] c.s.S.SchoolManagementSystemApplication  : Running with Spring Boot v3.5.4, Spring v6.2.9
2026-01-26T00:21:15.475+03:00  INFO 5928 --- [school-management-system] [main] c.s.S.SchoolManagementSystemApplication  : No active profile set, falling back to 1 default profile: "default"
2026-01-26T00:21:18.733+03:00  INFO 5928 --- [school-management-system] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-26T00:21:19.114+03:00  INFO 5928 --- [school-management-system] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 360 ms. Found 20 JPA repository interfaces.
2026-01-26T00:21:21.396+03:00  INFO 5928 --- [school-management-system] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-01-26T00:21:21.436+03:00  INFO 5928 --- [school-management-system] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-26T00:21:21.438+03:00  INFO 5928 --- [school-management-system] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2026-01-26T00:21:21.598+03:00  INFO 5928 --- [school-management-system] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-26T00:21:21.599+03:00  INFO 5928 --- [school-management-system] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6014 ms
2026-01-26T00:21:22.226+03:00  INFO 5928 --- [school-management-system] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-26T00:21:22.366+03:00  INFO 5928 --- [school-management-system] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2026-01-26T00:21:22.467+03:00  INFO 5928 --- [school-management-system] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2026-01-26T00:21:23.184+03:00  INFO 5928 --- [school-management-system] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-26T00:21:23.247+03:00  INFO 5928 --- [school-management-system] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-26T00:21:23.648+03:00  INFO 5928 --- [school-management-system] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5d98364c
2026-01-26T00:21:23.651+03:00  INFO 5928 --- [school-management-system] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-26T00:21:23.766+03:00  WARN 5928 --- [school-management-system] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-26T00:21:23.816+03:00  INFO 5928 --- [school-management-system] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.43
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-26T00:21:28.321+03:00  INFO 5928 --- [school-management-system] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-26T00:21:28.942+03:00  INFO 5928 --- [school-management-system] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-26T00:21:29.635+03:00  INFO 5928 --- [school-management-system] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-26T00:21:31.571+03:00 DEBUG 5928 --- [school-management-system] [main] c.s.S.config.JwtRequestFilter            : Filter 'jwtRequestFilter' configured for use
2026-01-26T00:21:42.362+03:00  INFO 5928 --- [school-management-system] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-26T00:21:42.363+03:00  INFO 5928 --- [school-management-system] [main] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-26T00:21:43.402+03:00  INFO 5928 --- [school-management-system] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2026-01-26T00:21:43.623+03:00  INFO 5928 --- [school-management-system] [main] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1259 ms
2026-01-26T00:21:43.626+03:00  INFO 5928 --- [school-management-system] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2026-01-26T00:21:43.678+03:00  INFO 5928 --- [school-management-system] [main] c.s.S.SchoolManagementSystemApplication  : Started SchoolManagementSystemApplication in 29.349 seconds (process running for 30.259)
2026-01-26T00:21:43.761+03:00 DEBUG 5928 --- [school-management-system] [sms-scheduler-1] c.s.S.fee.service.FeeCollectionService   : Cleaning expired cache entries...
2026-01-26T00:21:43.922+03:00  INFO 5928 --- [school-management-system] [main] c.s.S.config.DataInitializer             : Initializing database with default users...
2026-01-26T00:21:43.953+03:00 DEBUG 5928 --- [school-management-system] [sms-scheduler-1] org.hibernate.SQL                        : 
    select
        fdc1_0.cache_key,
        fdc1_0.cache_data,
        fdc1_0.cache_type,
        fdc1_0.created_at,
        fdc1_0.data_date,
        fdc1_0.expires_at,
        fdc1_0.updated_at 
    from
        fee_dashboard_cache fdc1_0 
    where
        fdc1_0.expires_at<?
2026-01-26T00:21:45.258+03:00 DEBUG 5928 --- [school-management-system] [main] org.hibernate.SQL                        : 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2026-01-26T00:21:45.267+03:00 DEBUG 5928 --- [school-management-system] [main] org.hibernate.SQL                        : 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2026-01-26T00:21:45.273+03:00 DEBUG 5928 --- [school-management-system] [main] org.hibernate.SQL                        : 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2026-01-26T00:21:45.277+03:00 DEBUG 5928 --- [school-management-system] [main] org.hibernate.SQL                        : 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2026-01-26T00:21:45.280+03:00 DEBUG 5928 --- [school-management-system] [main] org.hibernate.SQL                        : 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2026-01-26T00:21:45.285+03:00 DEBUG 5928 --- [school-management-system] [main] org.hibernate.SQL                        : 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2026-01-26T00:21:45.290+03:00 DEBUG 5928 --- [school-management-system] [main] org.hibernate.SQL                        : 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2026-01-26T00:21:45.294+03:00 DEBUG 5928 --- [school-management-system] [main] org.hibernate.SQL                        : 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.username=? 
    limit
        ?
2026-01-26T00:21:45.296+03:00  INFO 5928 --- [school-management-system] [main] c.s.S.config.DataInitializer             : Database initialization completed!
2026-01-26T00:21:54.305+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-3] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2026-01-26T00:21:54.882+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.t.service.StudentCacheService      : Initializing StudentCacheService...
2026-01-26T00:21:54.885+03:00  INFO 5928 --- [school-management-system] [Thread-1] c.s.S.t.service.StudentCacheService      : Loading student cache...
2026-01-26T00:21:54.936+03:00 DEBUG 5928 --- [school-management-system] [Thread-1] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        (
            s1_0.deleted = 0
        )
2026-01-26T00:21:55.014+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.t.service.TransactionService       : Initializing TransactionService with single cache system...
2026-01-26T00:21:55.082+03:00  INFO 5928 --- [school-management-system] [Thread-1] c.s.S.t.service.StudentCacheService      : âœ… Student cache loaded in 196ms: 20 students, 39 name parts, 0 amount entries
2026-01-26T00:21:55.484+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:21:55.486+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:21:55.498+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:21:55.523+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:21:55.535+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:21:55.604+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:21:55.687+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.t.service.StudentCacheService      : Refreshing student cache...
2026-01-26T00:21:55.689+03:00  INFO 5928 --- [school-management-system] [Thread-2] c.s.S.t.service.StudentCacheService      : Loading student cache...
2026-01-26T00:21:55.691+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.t.service.TransactionService       : ðŸ”„ Refreshing student cache...
2026-01-26T00:21:55.692+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.t.service.StudentCacheService      : Refreshing student cache...
2026-01-26T00:21:55.694+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.t.service.TransactionService       : âœ… Student cache refresh initiated
2026-01-26T00:21:55.697+03:00  INFO 5928 --- [school-management-system] [Thread-3] c.s.S.t.service.StudentCacheService      : Loading student cache...
2026-01-26T00:21:55.702+03:00 DEBUG 5928 --- [school-management-system] [Thread-2] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        (
            s1_0.deleted = 0
        )
2026-01-26T00:21:55.706+03:00 DEBUG 5928 --- [school-management-system] [Thread-3] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        (
            s1_0.deleted = 0
        )
2026-01-26T00:21:55.773+03:00  INFO 5928 --- [school-management-system] [Thread-2] c.s.S.t.service.StudentCacheService      : âœ… Student cache loaded in 83ms: 20 students, 39 name parts, 0 amount entries
2026-01-26T00:21:55.773+03:00  INFO 5928 --- [school-management-system] [Thread-3] c.s.S.t.service.StudentCacheService      : âœ… Student cache loaded in 75ms: 20 students, 39 name parts, 0 amount entries
2026-01-26T00:21:55.951+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:21:55.953+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:21:55.958+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:21:55.964+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:21:55.969+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:21:55.989+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:21:55.996+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.c.TransactionController          : Fetching transaction statistics summary
2026-01-26T00:21:56.025+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        bank_transactions bt1_0
2026-01-26T00:21:56.040+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(bt1_0.id) 
    from
        bank_transactions bt1_0 
    where
        bt1_0.status=?
2026-01-26T00:21:56.051+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(bt1_0.id) 
    from
        bank_transactions bt1_0 
    where
        bt1_0.status=?
2026-01-26T00:21:56.058+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(bt1_0.id) 
    from
        bank_transactions bt1_0 
    where
        bt1_0.status=?
2026-01-26T00:21:56.070+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.is_verified=?
2026-01-26T00:21:56.079+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(bt1_0.id) 
    from
        bank_transactions bt1_0 
    where
        bt1_0.status=?
2026-01-26T00:21:56.094+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        coalesce(sum(pt1_0.amount), 0.0) 
    from
        payment_transactions pt1_0
2026-01-26T00:21:56.147+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        coalesce(sum(pt1_0.amount), 0.0) 
    from
        payment_transactions pt1_0 
    where
        date(pt1_0.payment_date)=current_date
2026-01-26T00:21:56.164+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0
2026-01-26T00:21:56.196+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        bt1_0.id,
        bt1_0.amount,
        bt1_0.bank_account,
        bt1_0.bank_branch,
        bt1_0.bank_name,
        bt1_0.bank_reference,
        bt1_0.cheque_number,
        bt1_0.description,
        bt1_0.file_name,
        bt1_0.import_batch_id,
        bt1_0.imported_at,
        bt1_0.matched_at,
        bt1_0.matched_by,
        bt1_0.payment_method,
        bt1_0.sms_id,
        bt1_0.sms_sent,
        bt1_0.sms_sent_at,
        bt1_0.status,
        bt1_0.student_id,
        bt1_0.transaction_date 
    from
        bank_transactions bt1_0 
    where
        bt1_0.transaction_date between ? and ?
2026-01-26T00:21:56.219+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        bt1_0.id,
        bt1_0.amount,
        bt1_0.bank_account,
        bt1_0.bank_branch,
        bt1_0.bank_name,
        bt1_0.bank_reference,
        bt1_0.cheque_number,
        bt1_0.description,
        bt1_0.file_name,
        bt1_0.import_batch_id,
        bt1_0.imported_at,
        bt1_0.matched_at,
        bt1_0.matched_by,
        bt1_0.payment_method,
        bt1_0.sms_id,
        bt1_0.sms_sent,
        bt1_0.sms_sent_at,
        bt1_0.status,
        bt1_0.student_id,
        bt1_0.transaction_date 
    from
        bank_transactions bt1_0 
    where
        bt1_0.transaction_date between ? and ?
2026-01-26T00:21:56.237+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.c.TransactionController          : âœ… Transaction summary generated in 240ms
2026-01-26T00:21:56.338+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:21:56.340+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:21:56.342+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:21:56.348+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:21:56.352+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:21:56.367+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:21:56.428+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-1] c.s.S.t.c.TransactionController          : Fetching ALL bank transactions (no pagination)
2026-01-26T00:21:56.442+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        bt1_0.id,
        bt1_0.amount,
        bt1_0.bank_account,
        bt1_0.bank_branch,
        bt1_0.bank_name,
        bt1_0.bank_reference,
        bt1_0.cheque_number,
        bt1_0.description,
        bt1_0.file_name,
        bt1_0.import_batch_id,
        bt1_0.imported_at,
        bt1_0.matched_at,
        bt1_0.matched_by,
        bt1_0.payment_method,
        bt1_0.sms_id,
        bt1_0.sms_sent,
        bt1_0.sms_sent_at,
        bt1_0.status,
        bt1_0.student_id,
        bt1_0.transaction_date 
    from
        bank_transactions bt1_0
2026-01-26T00:21:56.454+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-1] c.s.S.t.c.TransactionController          : Returning ALL 0 transactions (unpaginated) in 22ms
2026-01-26T00:21:57.323+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.s.service.FileStorageService       : [FILE-STORAGE-SERVICE] [INIT] Starting file storage service initialization
2026-01-26T00:21:57.324+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.s.service.FileStorageService       : [FILE-STORAGE-SERVICE] [INIT] Upload directory configured: C:\Users\hp\school-management-uploads
2026-01-26T00:21:57.325+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.s.service.FileStorageService       : [FILE-STORAGE-SERVICE] [INIT] Upload directory already exists: C:\Users\hp\school-management-uploads
2026-01-26T00:21:57.326+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.s.service.FileStorageService       : [FILE-STORAGE-SERVICE] [INIT] profiles directory already exists: C:\Users\hp\school-management-uploads\profiles
2026-01-26T00:21:57.326+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.s.service.FileStorageService       : [FILE-STORAGE-SERVICE] [INIT] certificates directory already exists: C:\Users\hp\school-management-uploads\certificates
2026-01-26T00:21:57.327+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.s.service.FileStorageService       : [FILE-STORAGE-SERVICE] [INIT] documents directory already exists: C:\Users\hp\school-management-uploads\documents
2026-01-26T00:21:57.327+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.s.service.FileStorageService       : [FILE-STORAGE-SERVICE] [INIT] File storage initialized successfully
2026-01-26T00:21:57.328+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.s.service.FileStorageService       : [FILE-STORAGE-SERVICE] [INIT] Upload directory: C:\Users\hp\school-management-uploads
2026-01-26T00:21:57.329+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.s.service.FileStorageService       : [FILE-STORAGE-SERVICE] [INIT] Profiles directory: C:\Users\hp\school-management-uploads\profiles
2026-01-26T00:21:57.329+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.s.service.FileStorageService       : [FILE-STORAGE-SERVICE] [INIT] Certificates directory: C:\Users\hp\school-management-uploads\certificates
2026-01-26T00:21:57.329+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.s.service.FileStorageService       : [FILE-STORAGE-SERVICE] [INIT] Public URL base: http://localhost:8080/uploads/
2026-01-26T00:21:57.410+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:21:57.413+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:21:57.415+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:21:57.421+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:21:57.424+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:21:57.438+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:21:57.452+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.s.c.StudentProfileController       : [CONTROLLER] [GET-ALL-STUDENTS] [REQ-1769376117444-43-957] Started - Request received
2026-01-26T00:21:57.455+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [GET-ALL-STUDENTS] Started - Fetching all students with fee info
2026-01-26T00:21:57.459+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        (
            s1_0.deleted = 0
        )
2026-01-26T00:21:57.489+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [GET-ALL-STUDENTS] Found 20 students in database
2026-01-26T00:21:57.490+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 1
2026-01-26T00:21:57.490+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 1
2026-01-26T00:21:57.497+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:57.504+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:57.508+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:57.512+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:57.520+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Brian Ochieng
2026-01-26T00:21:57.540+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:21:57.551+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:21:57.553+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:21:57.556+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:57.559+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:21:57.565+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:21:57.580+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:21:57.585+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-5] c.s.S.t.c.TransactionController          : Fetching transaction statistics summary
2026-01-26T00:21:57.587+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        bank_transactions bt1_0
2026-01-26T00:21:57.593+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 1, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:21:57.594+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 1
2026-01-26T00:21:57.596+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 2
2026-01-26T00:21:57.598+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 2
2026-01-26T00:21:57.598+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(bt1_0.id) 
    from
        bank_transactions bt1_0 
    where
        bt1_0.status=?
2026-01-26T00:21:57.599+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:57.603+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:57.606+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(bt1_0.id) 
    from
        bank_transactions bt1_0 
    where
        bt1_0.status=?
2026-01-26T00:21:57.606+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:57.610+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:57.616+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Faith Wangari
2026-01-26T00:21:57.619+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(bt1_0.id) 
    from
        bank_transactions bt1_0 
    where
        bt1_0.status=?
2026-01-26T00:21:57.622+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:57.633+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 2, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:21:57.635+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.is_verified=?
2026-01-26T00:21:57.635+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 2
2026-01-26T00:21:57.636+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 3
2026-01-26T00:21:57.636+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 3
2026-01-26T00:21:57.638+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:57.643+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:57.649+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:57.650+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(bt1_0.id) 
    from
        bank_transactions bt1_0 
    where
        bt1_0.status=?
2026-01-26T00:21:57.654+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:57.657+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Kevin Kiprop
2026-01-26T00:21:57.658+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        coalesce(sum(pt1_0.amount), 0.0) 
    from
        payment_transactions pt1_0
2026-01-26T00:21:57.665+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:57.671+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        coalesce(sum(pt1_0.amount), 0.0) 
    from
        payment_transactions pt1_0 
    where
        date(pt1_0.payment_date)=current_date
2026-01-26T00:21:57.671+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 3, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:21:57.672+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 3
2026-01-26T00:21:57.673+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 4
2026-01-26T00:21:57.673+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 4
2026-01-26T00:21:57.674+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:57.680+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:57.684+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0
2026-01-26T00:21:57.685+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:57.688+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:57.691+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Ann Mumbi
2026-01-26T00:21:57.698+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        bt1_0.id,
        bt1_0.amount,
        bt1_0.bank_account,
        bt1_0.bank_branch,
        bt1_0.bank_name,
        bt1_0.bank_reference,
        bt1_0.cheque_number,
        bt1_0.description,
        bt1_0.file_name,
        bt1_0.import_batch_id,
        bt1_0.imported_at,
        bt1_0.matched_at,
        bt1_0.matched_by,
        bt1_0.payment_method,
        bt1_0.sms_id,
        bt1_0.sms_sent,
        bt1_0.sms_sent_at,
        bt1_0.status,
        bt1_0.student_id,
        bt1_0.transaction_date 
    from
        bank_transactions bt1_0 
    where
        bt1_0.transaction_date between ? and ?
2026-01-26T00:21:57.698+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:57.702+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 4, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:21:57.703+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 4
2026-01-26T00:21:57.704+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 5
2026-01-26T00:21:57.704+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 5
2026-01-26T00:21:57.705+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:57.708+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:57.709+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        bt1_0.id,
        bt1_0.amount,
        bt1_0.bank_account,
        bt1_0.bank_branch,
        bt1_0.bank_name,
        bt1_0.bank_reference,
        bt1_0.cheque_number,
        bt1_0.description,
        bt1_0.file_name,
        bt1_0.import_batch_id,
        bt1_0.imported_at,
        bt1_0.matched_at,
        bt1_0.matched_by,
        bt1_0.payment_method,
        bt1_0.sms_id,
        bt1_0.sms_sent,
        bt1_0.sms_sent_at,
        bt1_0.status,
        bt1_0.student_id,
        bt1_0.transaction_date 
    from
        bank_transactions bt1_0 
    where
        bt1_0.transaction_date between ? and ?
2026-01-26T00:21:57.713+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:57.715+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-5] c.s.S.t.c.TransactionController          : âœ… Transaction summary generated in 130ms
2026-01-26T00:21:57.716+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:57.718+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Michael Kamau
2026-01-26T00:21:57.724+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:57.731+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 5, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:21:57.732+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 5
2026-01-26T00:21:57.732+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 6
2026-01-26T00:21:57.733+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 6
2026-01-26T00:21:57.734+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:57.737+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:57.741+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:57.745+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:57.747+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Ahmed Hassan
2026-01-26T00:21:57.748+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:21:57.750+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:21:57.751+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:21:57.751+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:57.756+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:21:57.756+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 6, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:21:57.756+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 6
2026-01-26T00:21:57.757+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 7
2026-01-26T00:21:57.757+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 7
2026-01-26T00:21:57.758+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:57.759+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:21:57.761+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:57.765+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:57.770+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:57.774+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Sarah Jepkorir
2026-01-26T00:21:57.781+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:57.783+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:21:57.789+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 7, Total Fee: 50000.0, Paid: 0.0, Pending: 50000.0, Status: PENDING
2026-01-26T00:21:57.789+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 7
2026-01-26T00:21:57.790+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 8
2026-01-26T00:21:57.790+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 8
2026-01-26T00:21:57.790+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:57.797+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:57.803+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:57.807+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:57.815+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: James Okoth
2026-01-26T00:21:57.806+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-6] c.s.S.t.c.TransactionController          : Fetching ALL bank transactions (no pagination)
2026-01-26T00:21:57.820+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:57.825+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 8, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:21:57.826+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 8
2026-01-26T00:21:57.826+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 9
2026-01-26T00:21:57.826+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 9
2026-01-26T00:21:57.827+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:57.825+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        bt1_0.id,
        bt1_0.amount,
        bt1_0.bank_account,
        bt1_0.bank_branch,
        bt1_0.bank_name,
        bt1_0.bank_reference,
        bt1_0.cheque_number,
        bt1_0.description,
        bt1_0.file_name,
        bt1_0.import_batch_id,
        bt1_0.imported_at,
        bt1_0.matched_at,
        bt1_0.matched_by,
        bt1_0.payment_method,
        bt1_0.sms_id,
        bt1_0.sms_sent,
        bt1_0.sms_sent_at,
        bt1_0.status,
        bt1_0.student_id,
        bt1_0.transaction_date 
    from
        bank_transactions bt1_0
2026-01-26T00:21:57.832+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:57.833+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-6] c.s.S.t.c.TransactionController          : Returning ALL 0 transactions (unpaginated) in 13ms
2026-01-26T00:21:57.834+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:57.836+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:57.840+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Lucy Nyambura
2026-01-26T00:21:57.847+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:57.852+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 9, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:21:57.853+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 9
2026-01-26T00:21:57.853+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 10
2026-01-26T00:21:57.853+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 10
2026-01-26T00:21:57.854+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:57.857+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:57.863+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:57.867+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:57.870+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Peter Ndirangu
2026-01-26T00:21:57.875+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:57.881+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 10, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:21:57.882+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 10
2026-01-26T00:21:57.882+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 11
2026-01-26T00:21:57.882+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 11
2026-01-26T00:21:57.883+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:57.886+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:57.889+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:57.892+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:57.897+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Cynthia Akinyi
2026-01-26T00:21:57.902+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:57.907+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 11, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:21:57.908+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 11
2026-01-26T00:21:57.908+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 12
2026-01-26T00:21:57.908+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 12
2026-01-26T00:21:57.908+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:57.914+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:57.917+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:57.921+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:57.925+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Taylor Kim
2026-01-26T00:21:57.932+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:57.935+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 12, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:21:57.936+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 12
2026-01-26T00:21:57.936+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 13
2026-01-26T00:21:57.936+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 13
2026-01-26T00:21:57.938+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:57.940+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:57.943+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:57.946+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:57.949+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Wilson Kiptoo
2026-01-26T00:21:57.953+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:57.958+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 13, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:21:57.959+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 13
2026-01-26T00:21:57.959+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 14
2026-01-26T00:21:57.960+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 14
2026-01-26T00:21:57.961+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:57.964+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:57.967+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:57.970+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:57.973+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Joyce Awuor
2026-01-26T00:21:57.978+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:57.982+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 14, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:21:57.983+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 14
2026-01-26T00:21:57.984+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 15
2026-01-26T00:21:57.984+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 15
2026-01-26T00:21:57.984+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:57.987+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:57.991+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:57.994+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:57.997+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Mercy Wanjiru
2026-01-26T00:21:58.001+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.005+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 15, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:21:58.006+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 15
2026-01-26T00:21:58.006+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 16
2026-01-26T00:21:58.006+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 16
2026-01-26T00:21:58.007+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.009+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.012+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.014+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.016+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Simon Barasa
2026-01-26T00:21:58.021+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.025+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 16, Total Fee: 50000.0, Paid: 0.0, Pending: 50000.0, Status: PENDING
2026-01-26T00:21:58.025+03:00  INFO 5928 --- [school-management-system] [ForkJoinPool.commonPool-worker-1] c.s.S.t.service.TransactionService       : ðŸ“Š Cache Status:
2026-01-26T00:21:58.028+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 16
2026-01-26T00:21:58.028+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 17
2026-01-26T00:21:58.028+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 17
2026-01-26T00:21:58.028+03:00  INFO 5928 --- [school-management-system] [ForkJoinPool.commonPool-worker-1] c.s.S.t.service.TransactionService       :   StudentCacheService loaded: true
2026-01-26T00:21:58.029+03:00  INFO 5928 --- [school-management-system] [ForkJoinPool.commonPool-worker-1] c.s.S.t.service.TransactionService       :   StudentCacheService names: 20
2026-01-26T00:21:58.029+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.029+03:00  INFO 5928 --- [school-management-system] [ForkJoinPool.commonPool-worker-1] c.s.S.t.service.TransactionService       :   Sample cached names:
2026-01-26T00:21:58.033+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.035+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.035+03:00  INFO 5928 --- [school-management-system] [ForkJoinPool.commonPool-worker-1] c.s.S.t.service.TransactionService       :     - kevin kiprop
2026-01-26T00:21:58.035+03:00  INFO 5928 --- [school-management-system] [ForkJoinPool.commonPool-worker-1] c.s.S.t.service.TransactionService       :     - sarah jepkorir
2026-01-26T00:21:58.036+03:00  INFO 5928 --- [school-management-system] [ForkJoinPool.commonPool-worker-1] c.s.S.t.service.TransactionService       :     - faith wangari
2026-01-26T00:21:58.036+03:00  INFO 5928 --- [school-management-system] [ForkJoinPool.commonPool-worker-1] c.s.S.t.service.TransactionService       :     - ann mumbi
2026-01-26T00:21:58.036+03:00  INFO 5928 --- [school-management-system] [ForkJoinPool.commonPool-worker-1] c.s.S.t.service.TransactionService       :     - peter ndirangu
2026-01-26T00:21:58.038+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.040+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Joseph Gichuru
2026-01-26T00:21:58.048+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.052+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 17, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:21:58.052+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 17
2026-01-26T00:21:58.052+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 18
2026-01-26T00:21:58.053+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 18
2026-01-26T00:21:58.054+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.056+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.060+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.066+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.068+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Lilian Wairimu
2026-01-26T00:21:58.072+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.077+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 18, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:21:58.078+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 18
2026-01-26T00:21:58.079+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 19
2026-01-26T00:21:58.080+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 19
2026-01-26T00:21:58.081+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.083+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.086+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.089+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.091+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Vikram Sharma
2026-01-26T00:21:58.099+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.105+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 19, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:21:58.105+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 19
2026-01-26T00:21:58.106+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 20
2026-01-26T00:21:58.106+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 20
2026-01-26T00:21:58.107+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.110+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.114+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.117+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.120+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Brian Otieno
2026-01-26T00:21:58.126+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.132+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 20, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:21:58.133+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 20
2026-01-26T00:21:58.133+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [GET-ALL-STUDENTS] Completed successfully in 678 ms. Returned 20 students with fee info
2026-01-26T00:21:58.136+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.s.c.StudentProfileController       : [CONTROLLER] [GET-ALL-STUDENTS] [REQ-1769376117444-43-957] Completed - Returning 20 students
2026-01-26T00:21:58.235+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:21:58.236+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:21:58.237+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:21:58.241+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:21:58.245+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:21:58.259+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:21:58.270+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.s.c.StudentProfileController       : [CONTROLLER] [GET-ALL-STUDENTS] [REQ-1769376118270-46-406] Started - Request received
2026-01-26T00:21:58.272+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [GET-ALL-STUDENTS] Started - Fetching all students with fee info
2026-01-26T00:21:58.280+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        (
            s1_0.deleted = 0
        )
2026-01-26T00:21:58.319+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [GET-ALL-STUDENTS] Found 20 students in database
2026-01-26T00:21:58.319+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 1
2026-01-26T00:21:58.320+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 1
2026-01-26T00:21:58.320+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.324+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.334+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.337+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.339+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Brian Ochieng
2026-01-26T00:21:58.346+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.350+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 1, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:21:58.351+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 1
2026-01-26T00:21:58.351+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 2
2026-01-26T00:21:58.351+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 2
2026-01-26T00:21:58.352+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.355+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.358+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.363+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.366+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Faith Wangari
2026-01-26T00:21:58.370+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.374+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 2, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:21:58.376+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 2
2026-01-26T00:21:58.376+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 3
2026-01-26T00:21:58.376+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 3
2026-01-26T00:21:58.377+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.380+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.383+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.387+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.389+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Kevin Kiprop
2026-01-26T00:21:58.396+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.400+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 3, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:21:58.401+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 3
2026-01-26T00:21:58.401+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 4
2026-01-26T00:21:58.401+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 4
2026-01-26T00:21:58.402+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.404+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.407+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.410+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.414+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Ann Mumbi
2026-01-26T00:21:58.419+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.423+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 4, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:21:58.424+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 4
2026-01-26T00:21:58.424+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 5
2026-01-26T00:21:58.424+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 5
2026-01-26T00:21:58.425+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.429+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.432+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.435+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.438+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Michael Kamau
2026-01-26T00:21:58.442+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.447+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 5, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:21:58.448+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 5
2026-01-26T00:21:58.448+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 6
2026-01-26T00:21:58.448+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 6
2026-01-26T00:21:58.449+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.452+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.454+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.458+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.462+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Ahmed Hassan
2026-01-26T00:21:58.489+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.506+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 6, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:21:58.506+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 6
2026-01-26T00:21:58.506+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 7
2026-01-26T00:21:58.506+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 7
2026-01-26T00:21:58.507+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.513+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.516+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.519+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.522+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Sarah Jepkorir
2026-01-26T00:21:58.527+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.546+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 7, Total Fee: 50000.0, Paid: 0.0, Pending: 50000.0, Status: PENDING
2026-01-26T00:21:58.546+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 7
2026-01-26T00:21:58.546+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 8
2026-01-26T00:21:58.546+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 8
2026-01-26T00:21:58.547+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.550+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.553+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.557+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.563+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: James Okoth
2026-01-26T00:21:58.567+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.573+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 8, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:21:58.573+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 8
2026-01-26T00:21:58.573+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 9
2026-01-26T00:21:58.574+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 9
2026-01-26T00:21:58.574+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.581+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.584+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.587+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.589+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Lucy Nyambura
2026-01-26T00:21:58.596+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.601+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 9, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:21:58.602+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 9
2026-01-26T00:21:58.602+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 10
2026-01-26T00:21:58.602+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 10
2026-01-26T00:21:58.603+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.606+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.612+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.615+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.618+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Peter Ndirangu
2026-01-26T00:21:58.622+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.631+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 10, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:21:58.632+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 10
2026-01-26T00:21:58.632+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 11
2026-01-26T00:21:58.632+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 11
2026-01-26T00:21:58.633+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.637+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.640+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.646+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.648+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Cynthia Akinyi
2026-01-26T00:21:58.652+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.657+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 11, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:21:58.657+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 11
2026-01-26T00:21:58.657+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 12
2026-01-26T00:21:58.657+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 12
2026-01-26T00:21:58.658+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.663+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.666+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.669+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.671+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Taylor Kim
2026-01-26T00:21:58.681+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.685+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 12, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:21:58.686+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 12
2026-01-26T00:21:58.686+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 13
2026-01-26T00:21:58.686+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 13
2026-01-26T00:21:58.687+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.690+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.693+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.697+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.699+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Wilson Kiptoo
2026-01-26T00:21:58.703+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.707+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 13, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:21:58.707+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 13
2026-01-26T00:21:58.707+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 14
2026-01-26T00:21:58.707+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 14
2026-01-26T00:21:58.708+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.711+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.739+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.741+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.744+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Joyce Awuor
2026-01-26T00:21:58.748+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.752+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 14, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:21:58.752+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 14
2026-01-26T00:21:58.753+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 15
2026-01-26T00:21:58.753+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 15
2026-01-26T00:21:58.753+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.756+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.759+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.762+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.764+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Mercy Wanjiru
2026-01-26T00:21:58.768+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.772+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 15, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:21:58.772+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 15
2026-01-26T00:21:58.772+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 16
2026-01-26T00:21:58.772+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 16
2026-01-26T00:21:58.773+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.776+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.779+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.781+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.784+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Simon Barasa
2026-01-26T00:21:58.789+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.794+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 16, Total Fee: 50000.0, Paid: 0.0, Pending: 50000.0, Status: PENDING
2026-01-26T00:21:58.794+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 16
2026-01-26T00:21:58.795+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 17
2026-01-26T00:21:58.795+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 17
2026-01-26T00:21:58.795+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.798+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.801+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.804+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.806+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Joseph Gichuru
2026-01-26T00:21:58.814+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.818+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 17, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:21:58.818+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 17
2026-01-26T00:21:58.819+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 18
2026-01-26T00:21:58.819+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 18
2026-01-26T00:21:58.819+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.822+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.825+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.830+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.832+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Lilian Wairimu
2026-01-26T00:21:58.837+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.842+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 18, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:21:58.843+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 18
2026-01-26T00:21:58.843+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 19
2026-01-26T00:21:58.843+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 19
2026-01-26T00:21:58.844+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.848+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.851+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.854+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.856+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Vikram Sharma
2026-01-26T00:21:58.862+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.866+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 19, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:21:58.867+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 19
2026-01-26T00:21:58.867+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 20
2026-01-26T00:21:58.867+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 20
2026-01-26T00:21:58.868+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:21:58.871+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:21:58.873+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:21:58.875+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:21:58.879+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Brian Otieno
2026-01-26T00:21:58.884+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:21:58.888+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 20, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:21:58.888+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 20
2026-01-26T00:21:58.889+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [GET-ALL-STUDENTS] Completed successfully in 615 ms. Returned 20 students with fee info
2026-01-26T00:21:58.891+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.s.c.StudentProfileController       : [CONTROLLER] [GET-ALL-STUDENTS] [REQ-1769376118270-46-406] Completed - Returning 20 students
2026-01-26T00:22:06.962+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:22:06.964+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:22:06.965+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:22:06.969+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:22:06.971+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:22:06.982+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:22:06.985+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-8] c.s.S.t.service.StudentCacheService      : Refreshing student cache...
2026-01-26T00:22:06.986+03:00  INFO 5928 --- [school-management-system] [Thread-4] c.s.S.t.service.StudentCacheService      : Loading student cache...
2026-01-26T00:22:06.988+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-8] c.s.S.t.service.TransactionService       : ðŸ”„ Refreshing student cache...
2026-01-26T00:22:06.988+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-8] c.s.S.t.service.StudentCacheService      : Refreshing student cache...
2026-01-26T00:22:06.989+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-8] c.s.S.t.service.TransactionService       : âœ… Student cache refresh initiated
2026-01-26T00:22:06.991+03:00  INFO 5928 --- [school-management-system] [Thread-5] c.s.S.t.service.StudentCacheService      : Loading student cache...
2026-01-26T00:22:06.994+03:00 DEBUG 5928 --- [school-management-system] [Thread-4] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        (
            s1_0.deleted = 0
        )
2026-01-26T00:22:06.996+03:00 DEBUG 5928 --- [school-management-system] [Thread-5] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        (
            s1_0.deleted = 0
        )
2026-01-26T00:22:07.017+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:22:07.019+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:22:07.021+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:22:07.026+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:22:07.029+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:22:07.035+03:00  INFO 5928 --- [school-management-system] [Thread-4] c.s.S.t.service.StudentCacheService      : âœ… Student cache loaded in 48ms: 20 students, 39 name parts, 0 amount entries
2026-01-26T00:22:07.039+03:00  INFO 5928 --- [school-management-system] [Thread-5] c.s.S.t.service.StudentCacheService      : âœ… Student cache loaded in 48ms: 20 students, 39 name parts, 0 amount entries
2026-01-26T00:22:07.041+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:22:07.045+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-9] c.s.S.t.c.TransactionController          : Fetching transaction statistics summary
2026-01-26T00:22:07.047+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        bank_transactions bt1_0
2026-01-26T00:22:07.053+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(bt1_0.id) 
    from
        bank_transactions bt1_0 
    where
        bt1_0.status=?
2026-01-26T00:22:07.060+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(bt1_0.id) 
    from
        bank_transactions bt1_0 
    where
        bt1_0.status=?
2026-01-26T00:22:07.067+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(bt1_0.id) 
    from
        bank_transactions bt1_0 
    where
        bt1_0.status=?
2026-01-26T00:22:07.074+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.is_verified=?
2026-01-26T00:22:07.080+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(bt1_0.id) 
    from
        bank_transactions bt1_0 
    where
        bt1_0.status=?
2026-01-26T00:22:07.086+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        coalesce(sum(pt1_0.amount), 0.0) 
    from
        payment_transactions pt1_0
2026-01-26T00:22:07.092+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        coalesce(sum(pt1_0.amount), 0.0) 
    from
        payment_transactions pt1_0 
    where
        date(pt1_0.payment_date)=current_date
2026-01-26T00:22:07.101+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0
2026-01-26T00:22:07.114+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        bt1_0.id,
        bt1_0.amount,
        bt1_0.bank_account,
        bt1_0.bank_branch,
        bt1_0.bank_name,
        bt1_0.bank_reference,
        bt1_0.cheque_number,
        bt1_0.description,
        bt1_0.file_name,
        bt1_0.import_batch_id,
        bt1_0.imported_at,
        bt1_0.matched_at,
        bt1_0.matched_by,
        bt1_0.payment_method,
        bt1_0.sms_id,
        bt1_0.sms_sent,
        bt1_0.sms_sent_at,
        bt1_0.status,
        bt1_0.student_id,
        bt1_0.transaction_date 
    from
        bank_transactions bt1_0 
    where
        bt1_0.transaction_date between ? and ?
2026-01-26T00:22:07.125+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        bt1_0.id,
        bt1_0.amount,
        bt1_0.bank_account,
        bt1_0.bank_branch,
        bt1_0.bank_name,
        bt1_0.bank_reference,
        bt1_0.cheque_number,
        bt1_0.description,
        bt1_0.file_name,
        bt1_0.import_batch_id,
        bt1_0.imported_at,
        bt1_0.matched_at,
        bt1_0.matched_by,
        bt1_0.payment_method,
        bt1_0.sms_id,
        bt1_0.sms_sent,
        bt1_0.sms_sent_at,
        bt1_0.status,
        bt1_0.student_id,
        bt1_0.transaction_date 
    from
        bank_transactions bt1_0 
    where
        bt1_0.transaction_date between ? and ?
2026-01-26T00:22:07.131+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-9] c.s.S.t.c.TransactionController          : âœ… Transaction summary generated in 86ms
2026-01-26T00:22:07.165+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:22:07.166+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:22:07.169+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:22:07.175+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:22:07.177+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:22:07.191+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:22:07.197+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-10] c.s.S.t.c.TransactionController          : Fetching ALL bank transactions (no pagination)
2026-01-26T00:22:07.201+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        bt1_0.id,
        bt1_0.amount,
        bt1_0.bank_account,
        bt1_0.bank_branch,
        bt1_0.bank_name,
        bt1_0.bank_reference,
        bt1_0.cheque_number,
        bt1_0.description,
        bt1_0.file_name,
        bt1_0.import_batch_id,
        bt1_0.imported_at,
        bt1_0.matched_at,
        bt1_0.matched_by,
        bt1_0.payment_method,
        bt1_0.sms_id,
        bt1_0.sms_sent,
        bt1_0.sms_sent_at,
        bt1_0.status,
        bt1_0.student_id,
        bt1_0.transaction_date 
    from
        bank_transactions bt1_0
2026-01-26T00:22:07.208+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-10] c.s.S.t.c.TransactionController          : Returning ALL 0 transactions (unpaginated) in 10ms
2026-01-26T00:22:07.305+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:22:07.307+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:22:07.310+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:22:07.314+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:22:07.317+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:22:07.331+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:22:07.334+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.s.c.StudentProfileController       : [CONTROLLER] [GET-ALL-STUDENTS] [REQ-1769376127334-42-739] Started - Request received
2026-01-26T00:22:07.336+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [GET-ALL-STUDENTS] Started - Fetching all students with fee info
2026-01-26T00:22:07.341+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        (
            s1_0.deleted = 0
        )
2026-01-26T00:22:07.364+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [GET-ALL-STUDENTS] Found 20 students in database
2026-01-26T00:22:07.364+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 1
2026-01-26T00:22:07.364+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 1
2026-01-26T00:22:07.365+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:07.367+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:07.370+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:07.372+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:07.375+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Brian Ochieng
2026-01-26T00:22:07.378+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:07.382+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 1, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:22:07.382+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 1
2026-01-26T00:22:07.382+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 2
2026-01-26T00:22:07.383+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 2
2026-01-26T00:22:07.383+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:07.385+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:07.387+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:07.389+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:07.391+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Faith Wangari
2026-01-26T00:22:07.394+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:07.399+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 2, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:22:07.399+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 2
2026-01-26T00:22:07.400+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 3
2026-01-26T00:22:07.400+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 3
2026-01-26T00:22:07.400+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:07.403+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:07.406+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:07.409+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:07.411+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Kevin Kiprop
2026-01-26T00:22:07.415+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:07.419+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 3, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:22:07.419+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 3
2026-01-26T00:22:07.419+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 4
2026-01-26T00:22:07.419+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 4
2026-01-26T00:22:07.420+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:07.424+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:07.427+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:07.429+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:07.431+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Ann Mumbi
2026-01-26T00:22:07.435+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:07.440+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 4, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:22:07.440+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 4
2026-01-26T00:22:07.440+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 5
2026-01-26T00:22:07.441+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 5
2026-01-26T00:22:07.443+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:07.446+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:07.448+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:07.451+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:07.453+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Michael Kamau
2026-01-26T00:22:07.457+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:07.464+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 5, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:22:07.465+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 5
2026-01-26T00:22:07.465+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 6
2026-01-26T00:22:07.465+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 6
2026-01-26T00:22:07.466+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:07.469+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:07.472+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:07.476+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:07.479+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Ahmed Hassan
2026-01-26T00:22:07.483+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:07.488+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 6, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:22:07.488+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 6
2026-01-26T00:22:07.488+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 7
2026-01-26T00:22:07.488+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 7
2026-01-26T00:22:07.489+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:07.493+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:07.496+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:07.499+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:07.501+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Sarah Jepkorir
2026-01-26T00:22:07.506+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:07.513+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 7, Total Fee: 50000.0, Paid: 0.0, Pending: 50000.0, Status: PENDING
2026-01-26T00:22:07.513+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 7
2026-01-26T00:22:07.513+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 8
2026-01-26T00:22:07.513+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 8
2026-01-26T00:22:07.514+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:07.517+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:07.521+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:07.529+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:07.531+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: James Okoth
2026-01-26T00:22:07.534+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:07.538+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 8, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:22:07.538+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 8
2026-01-26T00:22:07.538+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 9
2026-01-26T00:22:07.538+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 9
2026-01-26T00:22:07.539+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:07.544+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:07.547+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:07.550+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:07.553+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Lucy Nyambura
2026-01-26T00:22:07.556+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:07.561+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 9, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:22:07.561+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 9
2026-01-26T00:22:07.561+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 10
2026-01-26T00:22:07.562+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 10
2026-01-26T00:22:07.562+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:07.565+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:07.567+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:07.570+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:07.572+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Peter Ndirangu
2026-01-26T00:22:07.577+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:07.581+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 10, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:22:07.582+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 10
2026-01-26T00:22:07.582+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 11
2026-01-26T00:22:07.582+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 11
2026-01-26T00:22:07.583+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:07.585+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:07.587+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:07.592+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:07.594+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Cynthia Akinyi
2026-01-26T00:22:07.598+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:07.602+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 11, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:22:07.602+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 11
2026-01-26T00:22:07.602+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 12
2026-01-26T00:22:07.602+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 12
2026-01-26T00:22:07.603+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:07.605+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:07.610+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:07.612+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:07.615+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Taylor Kim
2026-01-26T00:22:07.619+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:07.626+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 12, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:22:07.626+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 12
2026-01-26T00:22:07.627+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 13
2026-01-26T00:22:07.627+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 13
2026-01-26T00:22:07.627+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:07.629+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:07.632+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:07.635+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:07.637+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Wilson Kiptoo
2026-01-26T00:22:07.642+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:07.646+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 13, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:22:07.647+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 13
2026-01-26T00:22:07.647+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 14
2026-01-26T00:22:07.647+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 14
2026-01-26T00:22:07.647+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:07.650+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:07.653+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:07.656+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:07.660+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Joyce Awuor
2026-01-26T00:22:07.664+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:07.669+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 14, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:22:07.669+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 14
2026-01-26T00:22:07.669+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 15
2026-01-26T00:22:07.669+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 15
2026-01-26T00:22:07.670+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:07.674+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:07.679+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:07.682+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:07.684+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Mercy Wanjiru
2026-01-26T00:22:07.695+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:07.700+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 15, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:22:07.700+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 15
2026-01-26T00:22:07.700+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 16
2026-01-26T00:22:07.700+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 16
2026-01-26T00:22:07.701+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:07.704+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:07.710+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:07.713+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:07.715+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Simon Barasa
2026-01-26T00:22:07.719+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:07.724+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 16, Total Fee: 50000.0, Paid: 0.0, Pending: 50000.0, Status: PENDING
2026-01-26T00:22:07.724+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 16
2026-01-26T00:22:07.725+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 17
2026-01-26T00:22:07.725+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 17
2026-01-26T00:22:07.725+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:07.727+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:07.730+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:07.734+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:07.736+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Joseph Gichuru
2026-01-26T00:22:07.742+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:07.747+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 17, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:22:07.747+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 17
2026-01-26T00:22:07.748+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 18
2026-01-26T00:22:07.748+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 18
2026-01-26T00:22:07.748+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:07.751+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:07.754+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:07.759+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:07.762+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Lilian Wairimu
2026-01-26T00:22:07.766+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:07.771+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 18, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:22:07.771+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 18
2026-01-26T00:22:07.771+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 19
2026-01-26T00:22:07.772+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 19
2026-01-26T00:22:07.772+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:07.777+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:07.780+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:07.782+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:07.785+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Vikram Sharma
2026-01-26T00:22:07.789+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:07.797+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 19, Total Fee: 35000.0, Paid: 0.0, Pending: 35000.0, Status: PENDING
2026-01-26T00:22:07.798+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 19
2026-01-26T00:22:07.798+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 20
2026-01-26T00:22:07.798+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 20
2026-01-26T00:22:07.798+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:07.801+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:07.804+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:07.805+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:07.811+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Brian Otieno
2026-01-26T00:22:07.815+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:07.820+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 20, Total Fee: 40000.0, Paid: 0.0, Pending: 40000.0, Status: PENDING
2026-01-26T00:22:07.820+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 20
2026-01-26T00:22:07.820+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [GET-ALL-STUDENTS] Completed successfully in 484 ms. Returned 20 students with fee info
2026-01-26T00:22:07.824+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.s.c.StudentProfileController       : [CONTROLLER] [GET-ALL-STUDENTS] [REQ-1769376127334-42-739] Completed - Returning 20 students
2026-01-26T00:22:26.527+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:22:26.530+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:22:26.531+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:22:26.537+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:22:26.539+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:22:26.551+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:22:26.618+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“¥ Importing bank transactions synchronously: csvkenyan.csv
2026-01-26T00:22:26.619+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ”§ Checking cache status before import...
2026-01-26T00:22:26.623+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        students s1_0 
    where
        (
            s1_0.deleted = 0
        )
2026-01-26T00:22:26.628+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        (
            s1_0.deleted = 0
        )
2026-01-26T00:22:26.656+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        bank_transactions bt1_0
2026-01-26T00:22:26.658+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ”§ Cache verification: loaded=true, students=20, bankTx=0
2026-01-26T00:22:26.659+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Cache status: {studentCacheLoaded=true, sampleStudents=[{id=1, grade=Grade 8, studentId=STU2024001, hasName=true, fullName=Brian Ochieng}, {id=2, grade=Grade 7, studentId=STU2024002, hasName=true, fullName=Faith Wangari}, {id=3, grade=Grade 9, studentId=STU2024003, hasName=true, fullName=Kevin Kiprop}], databaseStudentCount=20, sampleNames=[kevin kiprop, sarah jepkorir, faith wangari, ann mumbi, peter ndirangu], studentCacheSize=20, bankTransactionCount=0}
2026-01-26T00:22:26.659+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : === CSV PARSER START ===
2026-01-26T00:22:26.660+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : File: csvkenyan.csv (2892 bytes, type: text/csv)
2026-01-26T00:22:26.680+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… CSV Headers detected: [Amount, Date, Description, Reference]
2026-01-26T00:22:26.680+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 1: CSVRecord [comment='null', recordNumber=1, values=[2025-11-05, UPI-TUITION-Brian Ochieng-FEE PAYMENT, 12000.0, UPI20251105000122]]
2026-01-26T00:22:26.682+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=1, values=[2025-11-05, UPI-TUITION-Brian Ochieng-FEE PAYMENT, 12000.0, UPI20251105000122]]
2026-01-26T00:22:26.682+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-11-05], Amount: [12000.0], Desc: [UPI-TUITION-Brian Ochieng-FEE PAYMENT], Ref: [UPI20251105000122], Status: [null]
2026-01-26T00:22:26.686+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=UPI20251105000122, Date=2025-11-05, Amount=12000.0, Desc=UPI-TUITION-Brian Ochieng-FEE PAYMENT
2026-01-26T00:22:26.687+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=UPI20251105000122, Amount=12000.0, Desc=UPI-TUITION-Brian Ochieng-FEE PAYMENT
2026-01-26T00:22:26.687+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 2: CSVRecord [comment='null', recordNumber=2, values=[2025-11-07, UPI-ADMISSION-Faith Wangari-FEES, 11500.0, UPI20251107000233]]
2026-01-26T00:22:26.688+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=2, values=[2025-11-07, UPI-ADMISSION-Faith Wangari-FEES, 11500.0, UPI20251107000233]]
2026-01-26T00:22:26.689+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-11-07], Amount: [11500.0], Desc: [UPI-ADMISSION-Faith Wangari-FEES], Ref: [UPI20251107000233], Status: [null]
2026-01-26T00:22:26.689+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=UPI20251107000233, Date=2025-11-07, Amount=11500.0, Desc=UPI-ADMISSION-Faith Wangari-FEES
2026-01-26T00:22:26.689+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=UPI20251107000233, Amount=11500.0, Desc=UPI-ADMISSION-Faith Wangari-FEES
2026-01-26T00:22:26.689+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 3: CSVRecord [comment='null', recordNumber=3, values=[2025-11-08, NEFT-TUITION-Kevin Kiprop-SCHOOL, 11800.0, NEFT20251108000344]]
2026-01-26T00:22:26.691+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=3, values=[2025-11-08, NEFT-TUITION-Kevin Kiprop-SCHOOL, 11800.0, NEFT20251108000344]]
2026-01-26T00:22:26.691+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-11-08], Amount: [11800.0], Desc: [NEFT-TUITION-Kevin Kiprop-SCHOOL], Ref: [NEFT20251108000344], Status: [null]
2026-01-26T00:22:26.691+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=NEFT20251108000344, Date=2025-11-08, Amount=11800.0, Desc=NEFT-TUITION-Kevin Kiprop-SCHOOL
2026-01-26T00:22:26.691+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=NEFT20251108000344, Amount=11800.0, Desc=NEFT-TUITION-Kevin Kiprop-SCHOOL
2026-01-26T00:22:26.691+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 4: CSVRecord [comment='null', recordNumber=4, values=[2025-11-10, IMPS-FEES-Ann Mumbi-TUITION, 12200.0, IMPS20251110000455]]
2026-01-26T00:22:26.691+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=4, values=[2025-11-10, IMPS-FEES-Ann Mumbi-TUITION, 12200.0, IMPS20251110000455]]
2026-01-26T00:22:26.691+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-11-10], Amount: [12200.0], Desc: [IMPS-FEES-Ann Mumbi-TUITION], Ref: [IMPS20251110000455], Status: [null]
2026-01-26T00:22:26.692+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=IMPS20251110000455, Date=2025-11-10, Amount=12200.0, Desc=IMPS-FEES-Ann Mumbi-TUITION
2026-01-26T00:22:26.692+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=IMPS20251110000455, Amount=12200.0, Desc=IMPS-FEES-Ann Mumbi-TUITION
2026-01-26T00:22:26.692+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 5: CSVRecord [comment='null', recordNumber=5, values=[2025-11-12, CASH-SCHOOL-Michael Kamau-FEES, 5000.0, CASH-20251112001]]
2026-01-26T00:22:26.693+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=5, values=[2025-11-12, CASH-SCHOOL-Michael Kamau-FEES, 5000.0, CASH-20251112001]]
2026-01-26T00:22:26.693+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-11-12], Amount: [5000.0], Desc: [CASH-SCHOOL-Michael Kamau-FEES], Ref: [CASH-20251112001], Status: [null]
2026-01-26T00:22:26.693+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=CASH-20251112001, Date=2025-11-12, Amount=5000.0, Desc=CASH-SCHOOL-Michael Kamau-FEES
2026-01-26T00:22:26.694+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=CASH-20251112001, Amount=5000.0, Desc=CASH-SCHOOL-Michael Kamau-FEES
2026-01-26T00:22:26.694+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 6: CSVRecord [comment='null', recordNumber=6, values=[2025-11-15, UPI-TUITION-Ahmed Hassan-PAYMENT, 12500.0, UPI20251115000566]]
2026-01-26T00:22:26.694+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=6, values=[2025-11-15, UPI-TUITION-Ahmed Hassan-PAYMENT, 12500.0, UPI20251115000566]]
2026-01-26T00:22:26.694+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-11-15], Amount: [12500.0], Desc: [UPI-TUITION-Ahmed Hassan-PAYMENT], Ref: [UPI20251115000566], Status: [null]
2026-01-26T00:22:26.695+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=UPI20251115000566, Date=2025-11-15, Amount=12500.0, Desc=UPI-TUITION-Ahmed Hassan-PAYMENT
2026-01-26T00:22:26.695+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=UPI20251115000566, Amount=12500.0, Desc=UPI-TUITION-Ahmed Hassan-PAYMENT
2026-01-26T00:22:26.696+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 7: CSVRecord [comment='null', recordNumber=7, values=[2025-11-18, NEFT-SCHOOL FEES-Sarah Jepkorir-FEES, 11600.0, NEFT20251118000677]]
2026-01-26T00:22:26.696+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=7, values=[2025-11-18, NEFT-SCHOOL FEES-Sarah Jepkorir-FEES, 11600.0, NEFT20251118000677]]
2026-01-26T00:22:26.696+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-11-18], Amount: [11600.0], Desc: [NEFT-SCHOOL FEES-Sarah Jepkorir-FEES], Ref: [NEFT20251118000677], Status: [null]
2026-01-26T00:22:26.697+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=NEFT20251118000677, Date=2025-11-18, Amount=11600.0, Desc=NEFT-SCHOOL FEES-Sarah Jepkorir-FEES
2026-01-26T00:22:26.698+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=NEFT20251118000677, Amount=11600.0, Desc=NEFT-SCHOOL FEES-Sarah Jepkorir-FEES
2026-01-26T00:22:26.698+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 8: CSVRecord [comment='null', recordNumber=8, values=[2025-11-20, UPI-FEES-James Okoth-TUITION, 11900.0, UPI20251120000788]]
2026-01-26T00:22:26.698+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=8, values=[2025-11-20, UPI-FEES-James Okoth-TUITION, 11900.0, UPI20251120000788]]
2026-01-26T00:22:26.698+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-11-20], Amount: [11900.0], Desc: [UPI-FEES-James Okoth-TUITION], Ref: [UPI20251120000788], Status: [null]
2026-01-26T00:22:26.699+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=UPI20251120000788, Date=2025-11-20, Amount=11900.0, Desc=UPI-FEES-James Okoth-TUITION
2026-01-26T00:22:26.701+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=UPI20251120000788, Amount=11900.0, Desc=UPI-FEES-James Okoth-TUITION
2026-01-26T00:22:26.701+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 9: CSVRecord [comment='null', recordNumber=9, values=[2025-11-22, RTGS-TUITION-Lucy Nyambura-SCHOOL, 12450.0, RTGS20251122000899]]
2026-01-26T00:22:26.701+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=9, values=[2025-11-22, RTGS-TUITION-Lucy Nyambura-SCHOOL, 12450.0, RTGS20251122000899]]
2026-01-26T00:22:26.701+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-11-22], Amount: [12450.0], Desc: [RTGS-TUITION-Lucy Nyambura-SCHOOL], Ref: [RTGS20251122000899], Status: [null]
2026-01-26T00:22:26.702+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=RTGS20251122000899, Date=2025-11-22, Amount=12450.0, Desc=RTGS-TUITION-Lucy Nyambura-SCHOOL
2026-01-26T00:22:26.702+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=RTGS20251122000899, Amount=12450.0, Desc=RTGS-TUITION-Lucy Nyambura-SCHOOL
2026-01-26T00:22:26.703+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 10: CSVRecord [comment='null', recordNumber=10, values=[2025-11-25, CHEQUE-SCHOOL PAYMENT-Peter Ndirangu-FEES, 8500.0, CHQ-20251125001]]
2026-01-26T00:22:26.703+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=10, values=[2025-11-25, CHEQUE-SCHOOL PAYMENT-Peter Ndirangu-FEES, 8500.0, CHQ-20251125001]]
2026-01-26T00:22:26.703+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-11-25], Amount: [8500.0], Desc: [CHEQUE-SCHOOL PAYMENT-Peter Ndirangu-FEES], Ref: [CHQ-20251125001], Status: [null]
2026-01-26T00:22:26.704+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=CHQ-20251125001, Date=2025-11-25, Amount=8500.0, Desc=CHEQUE-SCHOOL PAYMENT-Peter Ndirangu-FEES
2026-01-26T00:22:26.705+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=CHQ-20251125001, Amount=8500.0, Desc=CHEQUE-SCHOOL PAYMENT-Peter Ndirangu-FEES
2026-01-26T00:22:26.705+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 11: CSVRecord [comment='null', recordNumber=11, values=[2025-11-28, UPI-MISC PAYMENT-Cynthia Akinyi-SCHOOL, 2500.0, UPI20251128000911]]
2026-01-26T00:22:26.705+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=11, values=[2025-11-28, UPI-MISC PAYMENT-Cynthia Akinyi-SCHOOL, 2500.0, UPI20251128000911]]
2026-01-26T00:22:26.705+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-11-28], Amount: [2500.0], Desc: [UPI-MISC PAYMENT-Cynthia Akinyi-SCHOOL], Ref: [UPI20251128000911], Status: [null]
2026-01-26T00:22:26.706+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=UPI20251128000911, Date=2025-11-28, Amount=2500.0, Desc=UPI-MISC PAYMENT-Cynthia Akinyi-SCHOOL
2026-01-26T00:22:26.707+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=UPI20251128000911, Amount=2500.0, Desc=UPI-MISC PAYMENT-Cynthia Akinyi-SCHOOL
2026-01-26T00:22:26.707+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 12: CSVRecord [comment='null', recordNumber=12, values=[2025-11-30, IMPS-PARTIAL-Taylor Kim-TUITION, 6000.0, IMPS20251130001022]]
2026-01-26T00:22:26.707+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=12, values=[2025-11-30, IMPS-PARTIAL-Taylor Kim-TUITION, 6000.0, IMPS20251130001022]]
2026-01-26T00:22:26.707+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-11-30], Amount: [6000.0], Desc: [IMPS-PARTIAL-Taylor Kim-TUITION], Ref: [IMPS20251130001022], Status: [null]
2026-01-26T00:22:26.708+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=IMPS20251130001022, Date=2025-11-30, Amount=6000.0, Desc=IMPS-PARTIAL-Taylor Kim-TUITION
2026-01-26T00:22:26.709+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=IMPS20251130001022, Amount=6000.0, Desc=IMPS-PARTIAL-Taylor Kim-TUITION
2026-01-26T00:22:26.709+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 13: CSVRecord [comment='null', recordNumber=13, values=[2025-12-02, CASH-EXAM FEE-Wilson Kiptoo-FEES, 3500.0, CASH-20251202001]]
2026-01-26T00:22:26.709+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=13, values=[2025-12-02, CASH-EXAM FEE-Wilson Kiptoo-FEES, 3500.0, CASH-20251202001]]
2026-01-26T00:22:26.709+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-12-02], Amount: [3500.0], Desc: [CASH-EXAM FEE-Wilson Kiptoo-FEES], Ref: [CASH-20251202001], Status: [null]
2026-01-26T00:22:26.710+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=CASH-20251202001, Date=2025-12-02, Amount=3500.0, Desc=CASH-EXAM FEE-Wilson Kiptoo-FEES
2026-01-26T00:22:26.710+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=CASH-20251202001, Amount=3500.0, Desc=CASH-EXAM FEE-Wilson Kiptoo-FEES
2026-01-26T00:22:26.711+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 14: CSVRecord [comment='null', recordNumber=14, values=[2025-12-05, NEFT-LATE FEE-Joyce Awuor-PAYMENT, 1500.0, NEFT20251205001133]]
2026-01-26T00:22:26.711+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=14, values=[2025-12-05, NEFT-LATE FEE-Joyce Awuor-PAYMENT, 1500.0, NEFT20251205001133]]
2026-01-26T00:22:26.712+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-12-05], Amount: [1500.0], Desc: [NEFT-LATE FEE-Joyce Awuor-PAYMENT], Ref: [NEFT20251205001133], Status: [null]
2026-01-26T00:22:26.712+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=NEFT20251205001133, Date=2025-12-05, Amount=1500.0, Desc=NEFT-LATE FEE-Joyce Awuor-PAYMENT
2026-01-26T00:22:26.712+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=NEFT20251205001133, Amount=1500.0, Desc=NEFT-LATE FEE-Joyce Awuor-PAYMENT
2026-01-26T00:22:26.713+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 15: CSVRecord [comment='null', recordNumber=15, values=[2025-12-07, UPI-TRANSPORT-Mercy Wanjiru-SCHOOL, 3000.0, UPI20251207001244]]
2026-01-26T00:22:26.713+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=15, values=[2025-12-07, UPI-TRANSPORT-Mercy Wanjiru-SCHOOL, 3000.0, UPI20251207001244]]
2026-01-26T00:22:26.714+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-12-07], Amount: [3000.0], Desc: [UPI-TRANSPORT-Mercy Wanjiru-SCHOOL], Ref: [UPI20251207001244], Status: [null]
2026-01-26T00:22:26.715+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=UPI20251207001244, Date=2025-12-07, Amount=3000.0, Desc=UPI-TRANSPORT-Mercy Wanjiru-SCHOOL
2026-01-26T00:22:26.715+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=UPI20251207001244, Amount=3000.0, Desc=UPI-TRANSPORT-Mercy Wanjiru-SCHOOL
2026-01-26T00:22:26.715+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 16: CSVRecord [comment='null', recordNumber=16, values=[2025-12-10, CHEQUE-UNIFORM-Simon Barasa-FEES, 2500.0, CHQ-20251210001]]
2026-01-26T00:22:26.717+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=16, values=[2025-12-10, CHEQUE-UNIFORM-Simon Barasa-FEES, 2500.0, CHQ-20251210001]]
2026-01-26T00:22:26.718+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-12-10], Amount: [2500.0], Desc: [CHEQUE-UNIFORM-Simon Barasa-FEES], Ref: [CHQ-20251210001], Status: [null]
2026-01-26T00:22:26.719+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=CHQ-20251210001, Date=2025-12-10, Amount=2500.0, Desc=CHEQUE-UNIFORM-Simon Barasa-FEES
2026-01-26T00:22:26.719+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=CHQ-20251210001, Amount=2500.0, Desc=CHEQUE-UNIFORM-Simon Barasa-FEES
2026-01-26T00:22:26.719+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 17: CSVRecord [comment='null', recordNumber=17, values=[2025-12-12, UPI-TUITION-Joseph Gichuru-SCHOOL, 12000.0, UPI20251212001355]]
2026-01-26T00:22:26.720+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=17, values=[2025-12-12, UPI-TUITION-Joseph Gichuru-SCHOOL, 12000.0, UPI20251212001355]]
2026-01-26T00:22:26.720+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-12-12], Amount: [12000.0], Desc: [UPI-TUITION-Joseph Gichuru-SCHOOL], Ref: [UPI20251212001355], Status: [null]
2026-01-26T00:22:26.720+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=UPI20251212001355, Date=2025-12-12, Amount=12000.0, Desc=UPI-TUITION-Joseph Gichuru-SCHOOL
2026-01-26T00:22:26.721+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=UPI20251212001355, Amount=12000.0, Desc=UPI-TUITION-Joseph Gichuru-SCHOOL
2026-01-26T00:22:26.721+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 18: CSVRecord [comment='null', recordNumber=18, values=[2025-12-15, NEFT-FEES-Lilian Wairimu-TUITION, 11500.0, NEFT20251215001466]]
2026-01-26T00:22:26.722+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=18, values=[2025-12-15, NEFT-FEES-Lilian Wairimu-TUITION, 11500.0, NEFT20251215001466]]
2026-01-26T00:22:26.722+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-12-15], Amount: [11500.0], Desc: [NEFT-FEES-Lilian Wairimu-TUITION], Ref: [NEFT20251215001466], Status: [null]
2026-01-26T00:22:26.723+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=NEFT20251215001466, Date=2025-12-15, Amount=11500.0, Desc=NEFT-FEES-Lilian Wairimu-TUITION
2026-01-26T00:22:26.724+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=NEFT20251215001466, Amount=11500.0, Desc=NEFT-FEES-Lilian Wairimu-TUITION
2026-01-26T00:22:26.724+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 19: CSVRecord [comment='null', recordNumber=19, values=[2025-12-18, IMPS-SCHOOL-Vikram Sharma-FEES, 11800.0, IMPS20251218001577]]
2026-01-26T00:22:26.724+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=19, values=[2025-12-18, IMPS-SCHOOL-Vikram Sharma-FEES, 11800.0, IMPS20251218001577]]
2026-01-26T00:22:26.724+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-12-18], Amount: [11800.0], Desc: [IMPS-SCHOOL-Vikram Sharma-FEES], Ref: [IMPS20251218001577], Status: [null]
2026-01-26T00:22:26.724+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=IMPS20251218001577, Date=2025-12-18, Amount=11800.0, Desc=IMPS-SCHOOL-Vikram Sharma-FEES
2026-01-26T00:22:26.725+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=IMPS20251218001577, Amount=11800.0, Desc=IMPS-SCHOOL-Vikram Sharma-FEES
2026-01-26T00:22:26.725+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 20: CSVRecord [comment='null', recordNumber=20, values=[2025-12-20, CASH-TUITION-Brian Otieno-PAYMENT, 12200.0, CASH-20251220001]]
2026-01-26T00:22:26.725+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=20, values=[2025-12-20, CASH-TUITION-Brian Otieno-PAYMENT, 12200.0, CASH-20251220001]]
2026-01-26T00:22:26.726+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-12-20], Amount: [12200.0], Desc: [CASH-TUITION-Brian Otieno-PAYMENT], Ref: [CASH-20251220001], Status: [null]
2026-01-26T00:22:26.726+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=CASH-20251220001, Date=2025-12-20, Amount=12200.0, Desc=CASH-TUITION-Brian Otieno-PAYMENT
2026-01-26T00:22:26.726+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=CASH-20251220001, Amount=12200.0, Desc=CASH-TUITION-Brian Otieno-PAYMENT
2026-01-26T00:22:26.726+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 21: CSVRecord [comment='null', recordNumber=21, values=[2025-12-22, UPI-FEES-Brian Ochieng-SCHOOL FEES, 12500.0, UPI20251222001688]]
2026-01-26T00:22:26.727+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=21, values=[2025-12-22, UPI-FEES-Brian Ochieng-SCHOOL FEES, 12500.0, UPI20251222001688]]
2026-01-26T00:22:26.727+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-12-22], Amount: [12500.0], Desc: [UPI-FEES-Brian Ochieng-SCHOOL FEES], Ref: [UPI20251222001688], Status: [null]
2026-01-26T00:22:26.728+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=UPI20251222001688, Date=2025-12-22, Amount=12500.0, Desc=UPI-FEES-Brian Ochieng-SCHOOL FEES
2026-01-26T00:22:26.728+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=UPI20251222001688, Amount=12500.0, Desc=UPI-FEES-Brian Ochieng-SCHOOL FEES
2026-01-26T00:22:26.728+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 22: CSVRecord [comment='null', recordNumber=22, values=[2025-12-25, NEFT-TUITION-Faith Wangari-FEES, 11600.0, NEFT20251225001799]]
2026-01-26T00:22:26.728+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=22, values=[2025-12-25, NEFT-TUITION-Faith Wangari-FEES, 11600.0, NEFT20251225001799]]
2026-01-26T00:22:26.728+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-12-25], Amount: [11600.0], Desc: [NEFT-TUITION-Faith Wangari-FEES], Ref: [NEFT20251225001799], Status: [null]
2026-01-26T00:22:26.728+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=NEFT20251225001799, Date=2025-12-25, Amount=11600.0, Desc=NEFT-TUITION-Faith Wangari-FEES
2026-01-26T00:22:26.728+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=NEFT20251225001799, Amount=11600.0, Desc=NEFT-TUITION-Faith Wangari-FEES
2026-01-26T00:22:26.729+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 23: CSVRecord [comment='null', recordNumber=23, values=[2025-12-27, UPI-SCHOOL-Kevin Kiprop-TUITION, 11900.0, UPI20251227001811]]
2026-01-26T00:22:26.729+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=23, values=[2025-12-27, UPI-SCHOOL-Kevin Kiprop-TUITION, 11900.0, UPI20251227001811]]
2026-01-26T00:22:26.729+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-12-27], Amount: [11900.0], Desc: [UPI-SCHOOL-Kevin Kiprop-TUITION], Ref: [UPI20251227001811], Status: [null]
2026-01-26T00:22:26.729+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=UPI20251227001811, Date=2025-12-27, Amount=11900.0, Desc=UPI-SCHOOL-Kevin Kiprop-TUITION
2026-01-26T00:22:26.729+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=UPI20251227001811, Amount=11900.0, Desc=UPI-SCHOOL-Kevin Kiprop-TUITION
2026-01-26T00:22:26.730+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 24: CSVRecord [comment='null', recordNumber=24, values=[2025-12-30, RTGS-FEES-Ann Mumbi-SCHOOL PAYMENT, 12450.0, RTGS20251230001922]]
2026-01-26T00:22:26.730+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=24, values=[2025-12-30, RTGS-FEES-Ann Mumbi-SCHOOL PAYMENT, 12450.0, RTGS20251230001922]]
2026-01-26T00:22:26.730+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2025-12-30], Amount: [12450.0], Desc: [RTGS-FEES-Ann Mumbi-SCHOOL PAYMENT], Ref: [RTGS20251230001922], Status: [null]
2026-01-26T00:22:26.731+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=RTGS20251230001922, Date=2025-12-30, Amount=12450.0, Desc=RTGS-FEES-Ann Mumbi-SCHOOL PAYMENT
2026-01-26T00:22:26.732+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=RTGS20251230001922, Amount=12450.0, Desc=RTGS-FEES-Ann Mumbi-SCHOOL PAYMENT
2026-01-26T00:22:26.734+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 25: CSVRecord [comment='null', recordNumber=25, values=[2026-01-02, CHEQUE-TUITION-Michael Kamau-FEES, 8500.0, CHQ-20260102001]]
2026-01-26T00:22:26.735+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=25, values=[2026-01-02, CHEQUE-TUITION-Michael Kamau-FEES, 8500.0, CHQ-20260102001]]
2026-01-26T00:22:26.735+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2026-01-02], Amount: [8500.0], Desc: [CHEQUE-TUITION-Michael Kamau-FEES], Ref: [CHQ-20260102001], Status: [null]
2026-01-26T00:22:26.736+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=CHQ-20260102001, Date=2026-01-02, Amount=8500.0, Desc=CHEQUE-TUITION-Michael Kamau-FEES
2026-01-26T00:22:26.736+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=CHQ-20260102001, Amount=8500.0, Desc=CHEQUE-TUITION-Michael Kamau-FEES
2026-01-26T00:22:26.737+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 26: CSVRecord [comment='null', recordNumber=26, values=[2026-01-05, UPI-MISC PAYMENT-Ahmed Hassan-SCHOOL, 2500.0, UPI20260105002033]]
2026-01-26T00:22:26.737+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=26, values=[2026-01-05, UPI-MISC PAYMENT-Ahmed Hassan-SCHOOL, 2500.0, UPI20260105002033]]
2026-01-26T00:22:26.737+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2026-01-05], Amount: [2500.0], Desc: [UPI-MISC PAYMENT-Ahmed Hassan-SCHOOL], Ref: [UPI20260105002033], Status: [null]
2026-01-26T00:22:26.737+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=UPI20260105002033, Date=2026-01-05, Amount=2500.0, Desc=UPI-MISC PAYMENT-Ahmed Hassan-SCHOOL
2026-01-26T00:22:26.738+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=UPI20260105002033, Amount=2500.0, Desc=UPI-MISC PAYMENT-Ahmed Hassan-SCHOOL
2026-01-26T00:22:26.738+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 27: CSVRecord [comment='null', recordNumber=27, values=[2026-01-07, IMPS-PARTIAL-Sarah Jepkorir-TUITION, 6000.0, IMPS20260107002144]]
2026-01-26T00:22:26.738+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=27, values=[2026-01-07, IMPS-PARTIAL-Sarah Jepkorir-TUITION, 6000.0, IMPS20260107002144]]
2026-01-26T00:22:26.739+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2026-01-07], Amount: [6000.0], Desc: [IMPS-PARTIAL-Sarah Jepkorir-TUITION], Ref: [IMPS20260107002144], Status: [null]
2026-01-26T00:22:26.739+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=IMPS20260107002144, Date=2026-01-07, Amount=6000.0, Desc=IMPS-PARTIAL-Sarah Jepkorir-TUITION
2026-01-26T00:22:26.739+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=IMPS20260107002144, Amount=6000.0, Desc=IMPS-PARTIAL-Sarah Jepkorir-TUITION
2026-01-26T00:22:26.739+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 28: CSVRecord [comment='null', recordNumber=28, values=[2026-01-10, CASH-EXAM FEE-James Okoth-FEES, 3500.0, CASH-20260110001]]
2026-01-26T00:22:26.740+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=28, values=[2026-01-10, CASH-EXAM FEE-James Okoth-FEES, 3500.0, CASH-20260110001]]
2026-01-26T00:22:26.740+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2026-01-10], Amount: [3500.0], Desc: [CASH-EXAM FEE-James Okoth-FEES], Ref: [CASH-20260110001], Status: [null]
2026-01-26T00:22:26.740+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=CASH-20260110001, Date=2026-01-10, Amount=3500.0, Desc=CASH-EXAM FEE-James Okoth-FEES
2026-01-26T00:22:26.741+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=CASH-20260110001, Amount=3500.0, Desc=CASH-EXAM FEE-James Okoth-FEES
2026-01-26T00:22:26.741+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 29: CSVRecord [comment='null', recordNumber=29, values=[2026-01-12, NEFT-LATE FEE-Lucy Nyambura-PAYMENT, 1500.0, NEFT20260112002255]]
2026-01-26T00:22:26.741+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=29, values=[2026-01-12, NEFT-LATE FEE-Lucy Nyambura-PAYMENT, 1500.0, NEFT20260112002255]]
2026-01-26T00:22:26.741+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2026-01-12], Amount: [1500.0], Desc: [NEFT-LATE FEE-Lucy Nyambura-PAYMENT], Ref: [NEFT20260112002255], Status: [null]
2026-01-26T00:22:26.742+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=NEFT20260112002255, Date=2026-01-12, Amount=1500.0, Desc=NEFT-LATE FEE-Lucy Nyambura-PAYMENT
2026-01-26T00:22:26.742+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=NEFT20260112002255, Amount=1500.0, Desc=NEFT-LATE FEE-Lucy Nyambura-PAYMENT
2026-01-26T00:22:26.742+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 30: CSVRecord [comment='null', recordNumber=30, values=[2026-01-14, UPI-TRANSPORT-Peter Ndirangu-SCHOOL, 3000.0, UPI20260114002366]]
2026-01-26T00:22:26.742+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=30, values=[2026-01-14, UPI-TRANSPORT-Peter Ndirangu-SCHOOL, 3000.0, UPI20260114002366]]
2026-01-26T00:22:26.743+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2026-01-14], Amount: [3000.0], Desc: [UPI-TRANSPORT-Peter Ndirangu-SCHOOL], Ref: [UPI20260114002366], Status: [null]
2026-01-26T00:22:26.743+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=UPI20260114002366, Date=2026-01-14, Amount=3000.0, Desc=UPI-TRANSPORT-Peter Ndirangu-SCHOOL
2026-01-26T00:22:26.743+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=UPI20260114002366, Amount=3000.0, Desc=UPI-TRANSPORT-Peter Ndirangu-SCHOOL
2026-01-26T00:22:26.744+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 31: CSVRecord [comment='null', recordNumber=31, values=[2026-01-16, CHEQUE-UNIFORM-Cynthia Akinyi-FEES, 2500.0, CHQ-20260116001]]
2026-01-26T00:22:26.744+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=31, values=[2026-01-16, CHEQUE-UNIFORM-Cynthia Akinyi-FEES, 2500.0, CHQ-20260116001]]
2026-01-26T00:22:26.745+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2026-01-16], Amount: [2500.0], Desc: [CHEQUE-UNIFORM-Cynthia Akinyi-FEES], Ref: [CHQ-20260116001], Status: [null]
2026-01-26T00:22:26.745+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=CHQ-20260116001, Date=2026-01-16, Amount=2500.0, Desc=CHEQUE-UNIFORM-Cynthia Akinyi-FEES
2026-01-26T00:22:26.745+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=CHQ-20260116001, Amount=2500.0, Desc=CHEQUE-UNIFORM-Cynthia Akinyi-FEES
2026-01-26T00:22:26.745+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 32: CSVRecord [comment='null', recordNumber=32, values=[2026-01-18, UPI-TUITION-Taylor Kim-SCHOOL, 12000.0, UPI20260118002477]]
2026-01-26T00:22:26.745+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=32, values=[2026-01-18, UPI-TUITION-Taylor Kim-SCHOOL, 12000.0, UPI20260118002477]]
2026-01-26T00:22:26.745+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2026-01-18], Amount: [12000.0], Desc: [UPI-TUITION-Taylor Kim-SCHOOL], Ref: [UPI20260118002477], Status: [null]
2026-01-26T00:22:26.745+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=UPI20260118002477, Date=2026-01-18, Amount=12000.0, Desc=UPI-TUITION-Taylor Kim-SCHOOL
2026-01-26T00:22:26.745+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=UPI20260118002477, Amount=12000.0, Desc=UPI-TUITION-Taylor Kim-SCHOOL
2026-01-26T00:22:26.746+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 33: CSVRecord [comment='null', recordNumber=33, values=[2026-01-20, NEFT-FEES-Wilson Kiptoo-TUITION, 11500.0, NEFT20260120002588]]
2026-01-26T00:22:26.746+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=33, values=[2026-01-20, NEFT-FEES-Wilson Kiptoo-TUITION, 11500.0, NEFT20260120002588]]
2026-01-26T00:22:26.747+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2026-01-20], Amount: [11500.0], Desc: [NEFT-FEES-Wilson Kiptoo-TUITION], Ref: [NEFT20260120002588], Status: [null]
2026-01-26T00:22:26.747+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=NEFT20260120002588, Date=2026-01-20, Amount=11500.0, Desc=NEFT-FEES-Wilson Kiptoo-TUITION
2026-01-26T00:22:26.747+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=NEFT20260120002588, Amount=11500.0, Desc=NEFT-FEES-Wilson Kiptoo-TUITION
2026-01-26T00:22:26.748+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 34: CSVRecord [comment='null', recordNumber=34, values=[2026-01-22, IMPS-SCHOOL-Joyce Awuor-FEES, 11800.0, IMPS20260122002699]]
2026-01-26T00:22:26.748+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=34, values=[2026-01-22, IMPS-SCHOOL-Joyce Awuor-FEES, 11800.0, IMPS20260122002699]]
2026-01-26T00:22:26.749+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2026-01-22], Amount: [11800.0], Desc: [IMPS-SCHOOL-Joyce Awuor-FEES], Ref: [IMPS20260122002699], Status: [null]
2026-01-26T00:22:26.750+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=IMPS20260122002699, Date=2026-01-22, Amount=11800.0, Desc=IMPS-SCHOOL-Joyce Awuor-FEES
2026-01-26T00:22:26.750+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=IMPS20260122002699, Amount=11800.0, Desc=IMPS-SCHOOL-Joyce Awuor-FEES
2026-01-26T00:22:26.751+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 35: CSVRecord [comment='null', recordNumber=35, values=[2026-01-24, CASH-TUITION-Mercy Wanjiru-PAYMENT, 12200.0, CASH-20260124001]]
2026-01-26T00:22:26.751+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=35, values=[2026-01-24, CASH-TUITION-Mercy Wanjiru-PAYMENT, 12200.0, CASH-20260124001]]
2026-01-26T00:22:26.751+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2026-01-24], Amount: [12200.0], Desc: [CASH-TUITION-Mercy Wanjiru-PAYMENT], Ref: [CASH-20260124001], Status: [null]
2026-01-26T00:22:26.752+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=CASH-20260124001, Date=2026-01-24, Amount=12200.0, Desc=CASH-TUITION-Mercy Wanjiru-PAYMENT
2026-01-26T00:22:26.752+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=CASH-20260124001, Amount=12200.0, Desc=CASH-TUITION-Mercy Wanjiru-PAYMENT
2026-01-26T00:22:26.753+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 36: CSVRecord [comment='null', recordNumber=36, values=[2026-01-26, UPI-FEES-Simon Barasa-SCHOOL FEES, 12500.0, UPI20260126002711]]
2026-01-26T00:22:26.753+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=36, values=[2026-01-26, UPI-FEES-Simon Barasa-SCHOOL FEES, 12500.0, UPI20260126002711]]
2026-01-26T00:22:26.753+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2026-01-26], Amount: [12500.0], Desc: [UPI-FEES-Simon Barasa-SCHOOL FEES], Ref: [UPI20260126002711], Status: [null]
2026-01-26T00:22:26.753+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=UPI20260126002711, Date=2026-01-26, Amount=12500.0, Desc=UPI-FEES-Simon Barasa-SCHOOL FEES
2026-01-26T00:22:26.754+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=UPI20260126002711, Amount=12500.0, Desc=UPI-FEES-Simon Barasa-SCHOOL FEES
2026-01-26T00:22:26.754+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 37: CSVRecord [comment='null', recordNumber=37, values=[2026-01-28, NEFT-TUITION-Joseph Gichuru-FEES, 11600.0, NEFT20260128002822]]
2026-01-26T00:22:26.754+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=37, values=[2026-01-28, NEFT-TUITION-Joseph Gichuru-FEES, 11600.0, NEFT20260128002822]]
2026-01-26T00:22:26.754+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2026-01-28], Amount: [11600.0], Desc: [NEFT-TUITION-Joseph Gichuru-FEES], Ref: [NEFT20260128002822], Status: [null]
2026-01-26T00:22:26.755+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=NEFT20260128002822, Date=2026-01-28, Amount=11600.0, Desc=NEFT-TUITION-Joseph Gichuru-FEES
2026-01-26T00:22:26.755+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=NEFT20260128002822, Amount=11600.0, Desc=NEFT-TUITION-Joseph Gichuru-FEES
2026-01-26T00:22:26.755+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 38: CSVRecord [comment='null', recordNumber=38, values=[2026-01-30, UPI-SCHOOL-Lilian Wairimu-TUITION, 11900.0, UPI20260130002933]]
2026-01-26T00:22:26.755+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=38, values=[2026-01-30, UPI-SCHOOL-Lilian Wairimu-TUITION, 11900.0, UPI20260130002933]]
2026-01-26T00:22:26.755+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2026-01-30], Amount: [11900.0], Desc: [UPI-SCHOOL-Lilian Wairimu-TUITION], Ref: [UPI20260130002933], Status: [null]
2026-01-26T00:22:26.756+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=UPI20260130002933, Date=2026-01-30, Amount=11900.0, Desc=UPI-SCHOOL-Lilian Wairimu-TUITION
2026-01-26T00:22:26.756+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=UPI20260130002933, Amount=11900.0, Desc=UPI-SCHOOL-Lilian Wairimu-TUITION
2026-01-26T00:22:26.756+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 39: CSVRecord [comment='null', recordNumber=39, values=[2026-02-01, RTGS-FEES-Vikram Sharma-SCHOOL PAYMENT, 12450.0, RTGS20260201003044]]
2026-01-26T00:22:26.756+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=39, values=[2026-02-01, RTGS-FEES-Vikram Sharma-SCHOOL PAYMENT, 12450.0, RTGS20260201003044]]
2026-01-26T00:22:26.756+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2026-02-01], Amount: [12450.0], Desc: [RTGS-FEES-Vikram Sharma-SCHOOL PAYMENT], Ref: [RTGS20260201003044], Status: [null]
2026-01-26T00:22:26.758+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=RTGS20260201003044, Date=2026-02-01, Amount=12450.0, Desc=RTGS-FEES-Vikram Sharma-SCHOOL PAYMENT
2026-01-26T00:22:26.758+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=RTGS20260201003044, Amount=12450.0, Desc=RTGS-FEES-Vikram Sharma-SCHOOL PAYMENT
2026-01-26T00:22:26.758+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsing record 40: CSVRecord [comment='null', recordNumber=40, values=[2026-02-03, CHEQUE-TUITION-Brian Otieno-FEES, 8500.0, CHQ-20260203001]]
2026-01-26T00:22:26.758+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Record size: 4, Values: CSVRecord [comment='null', recordNumber=40, values=[2026-02-03, CHEQUE-TUITION-Brian Otieno-FEES, 8500.0, CHQ-20260203001]]
2026-01-26T00:22:26.759+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : Parsed values - Date: [2026-02-03], Amount: [8500.0], Desc: [CHEQUE-TUITION-Brian Otieno-FEES], Ref: [CHQ-20260203001], Status: [null]
2026-01-26T00:22:26.759+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Created transaction: Ref=CHQ-20260203001, Date=2026-02-03, Amount=8500.0, Desc=CHEQUE-TUITION-Brian Otieno-FEES
2026-01-26T00:22:26.760+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… Added transaction: Ref=CHQ-20260203001, Amount=8500.0, Desc=CHEQUE-TUITION-Brian Otieno-FEES
2026-01-26T00:22:26.761+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : ðŸ“Š CSV Parsing complete: 40 records processed, 40 transactions created
2026-01-26T00:22:26.761+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.BankStatementParser         : âœ… CSV Parser returning 40 transactions
2026-01-26T00:22:26.761+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Parser returned 40 transactions
2026-01-26T00:22:26.761+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸš€ Starting auto-matching for 40 transactions
2026-01-26T00:22:26.761+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Using StudentCacheService with 20 student names
2026-01-26T00:22:26.761+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Sample cached names:
2026-01-26T00:22:26.761+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       :   - kevin kiprop
2026-01-26T00:22:26.761+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       :   - sarah jepkorir
2026-01-26T00:22:26.762+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       :   - faith wangari
2026-01-26T00:22:26.762+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       :   - ann mumbi
2026-01-26T00:22:26.762+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       :   - peter ndirangu
2026-01-26T00:22:26.763+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'UPI-TUITION-Brian Ochieng-FEE PAYMENT' (KES 12000.0)
2026-01-26T00:22:26.763+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'upi-tuition-brian ochieng-fee payment' (KES 12000.0)
2026-01-26T00:22:26.764+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'brian ochieng' â†’ Brian Ochieng
2026-01-26T00:22:26.764+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'UPI-TUITION-Brian Ochieng-FEE PAYMENT' â†’ Brian Ochieng (ID: STU2024001)
2026-01-26T00:22:26.764+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'UPI-ADMISSION-Faith Wangari-FEES' (KES 11500.0)
2026-01-26T00:22:26.764+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'upi-admission-faith wangari-fees' (KES 11500.0)
2026-01-26T00:22:26.764+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'faith wangari' â†’ Faith Wangari
2026-01-26T00:22:26.764+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'UPI-ADMISSION-Faith Wangari-FEES' â†’ Faith Wangari (ID: STU2024002)
2026-01-26T00:22:26.765+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'NEFT-TUITION-Kevin Kiprop-SCHOOL' (KES 11800.0)
2026-01-26T00:22:26.765+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'neft-tuition-kevin kiprop-school' (KES 11800.0)
2026-01-26T00:22:26.765+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'kevin kiprop' â†’ Kevin Kiprop
2026-01-26T00:22:26.766+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'NEFT-TUITION-Kevin Kiprop-SCHOOL' â†’ Kevin Kiprop (ID: STU2024003)
2026-01-26T00:22:26.766+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'IMPS-FEES-Ann Mumbi-TUITION' (KES 12200.0)
2026-01-26T00:22:26.767+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'imps-fees-ann mumbi-tuition' (KES 12200.0)
2026-01-26T00:22:26.767+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'ann mumbi' â†’ Ann Mumbi
2026-01-26T00:22:26.767+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'IMPS-FEES-Ann Mumbi-TUITION' â†’ Ann Mumbi (ID: STU2024004)
2026-01-26T00:22:26.767+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'CASH-SCHOOL-Michael Kamau-FEES' (KES 5000.0)
2026-01-26T00:22:26.767+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'cash-school-michael kamau-fees' (KES 5000.0)
2026-01-26T00:22:26.767+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'michael kamau' â†’ Michael Kamau
2026-01-26T00:22:26.767+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'CASH-SCHOOL-Michael Kamau-FEES' â†’ Michael Kamau (ID: STU2024005)
2026-01-26T00:22:26.767+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'UPI-TUITION-Ahmed Hassan-PAYMENT' (KES 12500.0)
2026-01-26T00:22:26.768+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'upi-tuition-ahmed hassan-payment' (KES 12500.0)
2026-01-26T00:22:26.768+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'ahmed hassan' â†’ Ahmed Hassan
2026-01-26T00:22:26.768+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'UPI-TUITION-Ahmed Hassan-PAYMENT' â†’ Ahmed Hassan (ID: STU2024006)
2026-01-26T00:22:26.768+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'NEFT-SCHOOL FEES-Sarah Jepkorir-FEES' (KES 11600.0)
2026-01-26T00:22:26.768+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'neft-school fees-sarah jepkorir-fees' (KES 11600.0)
2026-01-26T00:22:26.768+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'sarah jepkorir' â†’ Sarah Jepkorir
2026-01-26T00:22:26.769+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'NEFT-SCHOOL FEES-Sarah Jepkorir-FEES' â†’ Sarah Jepkorir (ID: STU2024007)
2026-01-26T00:22:26.769+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'UPI-FEES-James Okoth-TUITION' (KES 11900.0)
2026-01-26T00:22:26.769+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'upi-fees-james okoth-tuition' (KES 11900.0)
2026-01-26T00:22:26.769+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'james okoth' â†’ James Okoth
2026-01-26T00:22:26.769+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'UPI-FEES-James Okoth-TUITION' â†’ James Okoth (ID: STU2024008)
2026-01-26T00:22:26.769+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'RTGS-TUITION-Lucy Nyambura-SCHOOL' (KES 12450.0)
2026-01-26T00:22:26.769+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'rtgs-tuition-lucy nyambura-school' (KES 12450.0)
2026-01-26T00:22:26.770+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'lucy nyambura' â†’ Lucy Nyambura
2026-01-26T00:22:26.770+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'RTGS-TUITION-Lucy Nyambura-SCHOOL' â†’ Lucy Nyambura (ID: STU2024009)
2026-01-26T00:22:26.770+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'CHEQUE-SCHOOL PAYMENT-Peter Ndirangu-FEES' (KES 8500.0)
2026-01-26T00:22:26.770+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'cheque-school payment-peter ndirangu-fees' (KES 8500.0)
2026-01-26T00:22:26.770+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'peter ndirangu' â†’ Peter Ndirangu
2026-01-26T00:22:26.770+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'CHEQUE-SCHOOL PAYMENT-Peter Ndirangu-FEES' â†’ Peter Ndirangu (ID: STU2024010)
2026-01-26T00:22:26.771+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'UPI-MISC PAYMENT-Cynthia Akinyi-SCHOOL' (KES 2500.0)
2026-01-26T00:22:26.771+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'upi-misc payment-cynthia akinyi-school' (KES 2500.0)
2026-01-26T00:22:26.771+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'cynthia akinyi' â†’ Cynthia Akinyi
2026-01-26T00:22:26.771+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'UPI-MISC PAYMENT-Cynthia Akinyi-SCHOOL' â†’ Cynthia Akinyi (ID: STU2024011)
2026-01-26T00:22:26.771+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'IMPS-PARTIAL-Taylor Kim-TUITION' (KES 6000.0)
2026-01-26T00:22:26.771+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'imps-partial-taylor kim-tuition' (KES 6000.0)
2026-01-26T00:22:26.771+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'taylor kim' â†’ Taylor Kim
2026-01-26T00:22:26.771+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'IMPS-PARTIAL-Taylor Kim-TUITION' â†’ Taylor Kim (ID: STU2024012)
2026-01-26T00:22:26.771+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'CASH-EXAM FEE-Wilson Kiptoo-FEES' (KES 3500.0)
2026-01-26T00:22:26.772+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'cash-exam fee-wilson kiptoo-fees' (KES 3500.0)
2026-01-26T00:22:26.772+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'wilson kiptoo' â†’ Wilson Kiptoo
2026-01-26T00:22:26.772+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'CASH-EXAM FEE-Wilson Kiptoo-FEES' â†’ Wilson Kiptoo (ID: STU2024013)
2026-01-26T00:22:26.772+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'NEFT-LATE FEE-Joyce Awuor-PAYMENT' (KES 1500.0)
2026-01-26T00:22:26.772+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'neft-late fee-joyce awuor-payment' (KES 1500.0)
2026-01-26T00:22:26.772+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'joyce awuor' â†’ Joyce Awuor
2026-01-26T00:22:26.773+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'NEFT-LATE FEE-Joyce Awuor-PAYMENT' â†’ Joyce Awuor (ID: STU2024014)
2026-01-26T00:22:26.774+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'UPI-TRANSPORT-Mercy Wanjiru-SCHOOL' (KES 3000.0)
2026-01-26T00:22:26.774+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'upi-transport-mercy wanjiru-school' (KES 3000.0)
2026-01-26T00:22:26.774+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'mercy wanjiru' â†’ Mercy Wanjiru
2026-01-26T00:22:26.774+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'UPI-TRANSPORT-Mercy Wanjiru-SCHOOL' â†’ Mercy Wanjiru (ID: STU2024015)
2026-01-26T00:22:26.774+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'CHEQUE-UNIFORM-Simon Barasa-FEES' (KES 2500.0)
2026-01-26T00:22:26.774+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'cheque-uniform-simon barasa-fees' (KES 2500.0)
2026-01-26T00:22:26.774+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'simon barasa' â†’ Simon Barasa
2026-01-26T00:22:26.774+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'CHEQUE-UNIFORM-Simon Barasa-FEES' â†’ Simon Barasa (ID: STU2020016)
2026-01-26T00:22:26.774+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'UPI-TUITION-Joseph Gichuru-SCHOOL' (KES 12000.0)
2026-01-26T00:22:26.774+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'upi-tuition-joseph gichuru-school' (KES 12000.0)
2026-01-26T00:22:26.774+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'joseph gichuru' â†’ Joseph Gichuru
2026-01-26T00:22:26.774+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'UPI-TUITION-Joseph Gichuru-SCHOOL' â†’ Joseph Gichuru (ID: STU2024017)
2026-01-26T00:22:26.774+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'NEFT-FEES-Lilian Wairimu-TUITION' (KES 11500.0)
2026-01-26T00:22:26.774+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'neft-fees-lilian wairimu-tuition' (KES 11500.0)
2026-01-26T00:22:26.774+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'lilian wairimu' â†’ Lilian Wairimu
2026-01-26T00:22:26.775+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'NEFT-FEES-Lilian Wairimu-TUITION' â†’ Lilian Wairimu (ID: STU2024018)
2026-01-26T00:22:26.775+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'IMPS-SCHOOL-Vikram Sharma-FEES' (KES 11800.0)
2026-01-26T00:22:26.775+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'imps-school-vikram sharma-fees' (KES 11800.0)
2026-01-26T00:22:26.775+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'vikram sharma' â†’ Vikram Sharma
2026-01-26T00:22:26.775+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'IMPS-SCHOOL-Vikram Sharma-FEES' â†’ Vikram Sharma (ID: STU2024019)
2026-01-26T00:22:26.775+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'CASH-TUITION-Brian Otieno-PAYMENT' (KES 12200.0)
2026-01-26T00:22:26.775+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'cash-tuition-brian otieno-payment' (KES 12200.0)
2026-01-26T00:22:26.775+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'brian otieno' â†’ Brian Otieno
2026-01-26T00:22:26.776+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'CASH-TUITION-Brian Otieno-PAYMENT' â†’ Brian Otieno (ID: STU2024020)
2026-01-26T00:22:26.776+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'UPI-FEES-Brian Ochieng-SCHOOL FEES' (KES 12500.0)
2026-01-26T00:22:26.776+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'upi-fees-brian ochieng-school fees' (KES 12500.0)
2026-01-26T00:22:26.776+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'brian ochieng' â†’ Brian Ochieng
2026-01-26T00:22:26.776+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'UPI-FEES-Brian Ochieng-SCHOOL FEES' â†’ Brian Ochieng (ID: STU2024001)
2026-01-26T00:22:26.776+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'NEFT-TUITION-Faith Wangari-FEES' (KES 11600.0)
2026-01-26T00:22:26.776+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'neft-tuition-faith wangari-fees' (KES 11600.0)
2026-01-26T00:22:26.776+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'faith wangari' â†’ Faith Wangari
2026-01-26T00:22:26.777+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'NEFT-TUITION-Faith Wangari-FEES' â†’ Faith Wangari (ID: STU2024002)
2026-01-26T00:22:26.777+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'UPI-SCHOOL-Kevin Kiprop-TUITION' (KES 11900.0)
2026-01-26T00:22:26.777+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'upi-school-kevin kiprop-tuition' (KES 11900.0)
2026-01-26T00:22:26.777+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'kevin kiprop' â†’ Kevin Kiprop
2026-01-26T00:22:26.777+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'UPI-SCHOOL-Kevin Kiprop-TUITION' â†’ Kevin Kiprop (ID: STU2024003)
2026-01-26T00:22:26.777+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'RTGS-FEES-Ann Mumbi-SCHOOL PAYMENT' (KES 12450.0)
2026-01-26T00:22:26.777+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'rtgs-fees-ann mumbi-school payment' (KES 12450.0)
2026-01-26T00:22:26.777+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'ann mumbi' â†’ Ann Mumbi
2026-01-26T00:22:26.779+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'RTGS-FEES-Ann Mumbi-SCHOOL PAYMENT' â†’ Ann Mumbi (ID: STU2024004)
2026-01-26T00:22:26.780+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'CHEQUE-TUITION-Michael Kamau-FEES' (KES 8500.0)
2026-01-26T00:22:26.780+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'cheque-tuition-michael kamau-fees' (KES 8500.0)
2026-01-26T00:22:26.780+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'michael kamau' â†’ Michael Kamau
2026-01-26T00:22:26.780+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'CHEQUE-TUITION-Michael Kamau-FEES' â†’ Michael Kamau (ID: STU2024005)
2026-01-26T00:22:26.780+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'UPI-MISC PAYMENT-Ahmed Hassan-SCHOOL' (KES 2500.0)
2026-01-26T00:22:26.781+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'upi-misc payment-ahmed hassan-school' (KES 2500.0)
2026-01-26T00:22:26.781+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'ahmed hassan' â†’ Ahmed Hassan
2026-01-26T00:22:26.782+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'UPI-MISC PAYMENT-Ahmed Hassan-SCHOOL' â†’ Ahmed Hassan (ID: STU2024006)
2026-01-26T00:22:26.782+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'IMPS-PARTIAL-Sarah Jepkorir-TUITION' (KES 6000.0)
2026-01-26T00:22:26.782+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'imps-partial-sarah jepkorir-tuition' (KES 6000.0)
2026-01-26T00:22:26.782+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'sarah jepkorir' â†’ Sarah Jepkorir
2026-01-26T00:22:26.783+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'IMPS-PARTIAL-Sarah Jepkorir-TUITION' â†’ Sarah Jepkorir (ID: STU2024007)
2026-01-26T00:22:26.783+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'CASH-EXAM FEE-James Okoth-FEES' (KES 3500.0)
2026-01-26T00:22:26.783+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'cash-exam fee-james okoth-fees' (KES 3500.0)
2026-01-26T00:22:26.784+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'james okoth' â†’ James Okoth
2026-01-26T00:22:26.785+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'CASH-EXAM FEE-James Okoth-FEES' â†’ James Okoth (ID: STU2024008)
2026-01-26T00:22:26.785+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'NEFT-LATE FEE-Lucy Nyambura-PAYMENT' (KES 1500.0)
2026-01-26T00:22:26.785+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'neft-late fee-lucy nyambura-payment' (KES 1500.0)
2026-01-26T00:22:26.785+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'lucy nyambura' â†’ Lucy Nyambura
2026-01-26T00:22:26.785+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'NEFT-LATE FEE-Lucy Nyambura-PAYMENT' â†’ Lucy Nyambura (ID: STU2024009)
2026-01-26T00:22:26.785+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'UPI-TRANSPORT-Peter Ndirangu-SCHOOL' (KES 3000.0)
2026-01-26T00:22:26.785+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'upi-transport-peter ndirangu-school' (KES 3000.0)
2026-01-26T00:22:26.785+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'peter ndirangu' â†’ Peter Ndirangu
2026-01-26T00:22:26.785+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'UPI-TRANSPORT-Peter Ndirangu-SCHOOL' â†’ Peter Ndirangu (ID: STU2024010)
2026-01-26T00:22:26.785+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'CHEQUE-UNIFORM-Cynthia Akinyi-FEES' (KES 2500.0)
2026-01-26T00:22:26.785+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'cheque-uniform-cynthia akinyi-fees' (KES 2500.0)
2026-01-26T00:22:26.786+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'cynthia akinyi' â†’ Cynthia Akinyi
2026-01-26T00:22:26.787+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'CHEQUE-UNIFORM-Cynthia Akinyi-FEES' â†’ Cynthia Akinyi (ID: STU2024011)
2026-01-26T00:22:26.787+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'UPI-TUITION-Taylor Kim-SCHOOL' (KES 12000.0)
2026-01-26T00:22:26.787+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'upi-tuition-taylor kim-school' (KES 12000.0)
2026-01-26T00:22:26.787+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'taylor kim' â†’ Taylor Kim
2026-01-26T00:22:26.787+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'UPI-TUITION-Taylor Kim-SCHOOL' â†’ Taylor Kim (ID: STU2024012)
2026-01-26T00:22:26.787+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'NEFT-FEES-Wilson Kiptoo-TUITION' (KES 11500.0)
2026-01-26T00:22:26.787+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'neft-fees-wilson kiptoo-tuition' (KES 11500.0)
2026-01-26T00:22:26.787+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'wilson kiptoo' â†’ Wilson Kiptoo
2026-01-26T00:22:26.787+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'NEFT-FEES-Wilson Kiptoo-TUITION' â†’ Wilson Kiptoo (ID: STU2024013)
2026-01-26T00:22:26.787+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'IMPS-SCHOOL-Joyce Awuor-FEES' (KES 11800.0)
2026-01-26T00:22:26.787+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'imps-school-joyce awuor-fees' (KES 11800.0)
2026-01-26T00:22:26.787+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'joyce awuor' â†’ Joyce Awuor
2026-01-26T00:22:26.787+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'IMPS-SCHOOL-Joyce Awuor-FEES' â†’ Joyce Awuor (ID: STU2024014)
2026-01-26T00:22:26.787+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'CASH-TUITION-Mercy Wanjiru-PAYMENT' (KES 12200.0)
2026-01-26T00:22:26.788+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'cash-tuition-mercy wanjiru-payment' (KES 12200.0)
2026-01-26T00:22:26.788+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'mercy wanjiru' â†’ Mercy Wanjiru
2026-01-26T00:22:26.788+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'CASH-TUITION-Mercy Wanjiru-PAYMENT' â†’ Mercy Wanjiru (ID: STU2024015)
2026-01-26T00:22:26.788+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'UPI-FEES-Simon Barasa-SCHOOL FEES' (KES 12500.0)
2026-01-26T00:22:26.788+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'upi-fees-simon barasa-school fees' (KES 12500.0)
2026-01-26T00:22:26.788+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'simon barasa' â†’ Simon Barasa
2026-01-26T00:22:26.788+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'UPI-FEES-Simon Barasa-SCHOOL FEES' â†’ Simon Barasa (ID: STU2020016)
2026-01-26T00:22:26.789+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'NEFT-TUITION-Joseph Gichuru-FEES' (KES 11600.0)
2026-01-26T00:22:26.789+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'neft-tuition-joseph gichuru-fees' (KES 11600.0)
2026-01-26T00:22:26.789+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'joseph gichuru' â†’ Joseph Gichuru
2026-01-26T00:22:26.789+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'NEFT-TUITION-Joseph Gichuru-FEES' â†’ Joseph Gichuru (ID: STU2024017)
2026-01-26T00:22:26.789+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'UPI-SCHOOL-Lilian Wairimu-TUITION' (KES 11900.0)
2026-01-26T00:22:26.789+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'upi-school-lilian wairimu-tuition' (KES 11900.0)
2026-01-26T00:22:26.789+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'lilian wairimu' â†’ Lilian Wairimu
2026-01-26T00:22:26.789+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'UPI-SCHOOL-Lilian Wairimu-TUITION' â†’ Lilian Wairimu (ID: STU2024018)
2026-01-26T00:22:26.789+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'RTGS-FEES-Vikram Sharma-SCHOOL PAYMENT' (KES 12450.0)
2026-01-26T00:22:26.790+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'rtgs-fees-vikram sharma-school payment' (KES 12450.0)
2026-01-26T00:22:26.790+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'vikram sharma' â†’ Vikram Sharma
2026-01-26T00:22:26.790+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'RTGS-FEES-Vikram Sharma-SCHOOL PAYMENT' â†’ Vikram Sharma (ID: STU2024019)
2026-01-26T00:22:26.790+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ” Matching transaction: 'CHEQUE-TUITION-Brian Otieno-FEES' (KES 8500.0)
2026-01-26T00:22:26.790+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸ” Matcher searching: 'cheque-tuition-brian otieno-fees' (KES 8500.0)
2026-01-26T00:22:26.790+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.util.TransactionMatcher          : ðŸŽ¯ Exact name match: 'brian otieno' â†’ Brian Otieno
2026-01-26T00:22:26.790+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Auto-matched: 'CHEQUE-TUITION-Brian Otieno-FEES' â†’ Brian Otieno (ID: STU2024020)
2026-01-26T00:22:26.791+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“Š Auto-matching completed in 30ms
2026-01-26T00:22:26.791+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       :    ðŸ”¹ Transactions processed: 40
2026-01-26T00:22:26.791+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       :    âœ… Auto-matched: 40
2026-01-26T00:22:26.791+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       :    âŒ No match: 0
2026-01-26T00:22:26.791+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       :    ðŸ“ˆ Match success rate: {:.1f}%
2026-01-26T00:22:26.791+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ’¾ Starting batch save for 40 transactions...
2026-01-26T00:22:26.791+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       :   Saving batch 1/1 (40 transactions)
2026-01-26T00:22:26.857+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:26.924+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:26.934+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:26.941+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:26.949+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:26.956+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:26.963+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:26.974+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:26.980+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:26.990+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.000+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.011+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.022+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.030+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.045+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.057+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.064+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.078+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.091+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.096+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.107+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.112+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.124+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.130+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.145+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.155+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.182+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.188+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.193+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.200+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.209+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.218+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.224+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.229+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.241+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.251+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.258+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.263+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.277+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.284+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        bank_transactions
        (amount, bank_account, bank_branch, bank_name, bank_reference, cheque_number, description, file_name, import_batch_id, imported_at, matched_at, matched_by, payment_method, sms_id, sms_sent, sms_sent_at, status, student_id, transaction_date) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.292+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       :     âœ… Batch saved successfully
2026-01-26T00:22:27.302+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.311+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-3127650D from matched bank transaction UPI20251105000122 for student Brian Ochieng
2026-01-26T00:22:27.315+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 12000.0 to student Brian Ochieng
2026-01-26T00:22:27.363+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:27.414+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:27.464+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:27.499+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        ta1_0.student_id,
        ta1_0.id,
        ta1_0.academic_term_id,
        ta1_0.billing_date,
        ta1_0.created_at,
        ta1_0.due_date,
        ta1_0.is_billed,
        ta1_0.last_payment_date,
        ta1_0.last_reminder_date,
        ta1_0.notes,
        ta1_0.paid_amount,
        ta1_0.pending_amount,
        ta1_0.reminders_sent,
        ta1_0.student_fee_assignment_id,
        ta1_0.term_fee_status,
        ta1_0.total_term_fee,
        ta1_0.updated_at 
    from
        student_term_assignments ta1_0 
    where
        ta1_0.student_id=?
2026-01-26T00:22:27.555+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:27.581+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:27.599+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:27.604+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 12000.0 for student Brian Ochieng
2026-01-26T00:22:27.609+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 12000.0 remaining
2026-01-26T00:22:27.609+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Brian Ochieng: KES 12000.0, All paid: true
2026-01-26T00:22:27.609+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-3127650D
2026-01-26T00:22:27.610+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Brian Ochieng to send auto-match SMS
2026-01-26T00:22:27.612+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.617+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-FD453C02 from matched bank transaction UPI20251107000233 for student Faith Wangari
2026-01-26T00:22:27.618+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 11500.0 to student Faith Wangari
2026-01-26T00:22:27.630+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:27.681+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    update
        students 
    set
        academic_year=?,
        address=?,
        admission_date=?,
        admission_fee=?,
        blood_group=?,
        blood_pressure=?,
        bus_number=?,
        bus_route=?,
        bus_stop=?,
        category=?,
        class_teacher=?,
        clinic_name=?,
        date_of_birth=?,
        deleted=?,
        doctor_name=?,
        driver_contact=?,
        driver_name=?,
        drop_time=?,
        email=?,
        emergency_contact_name=?,
        emergency_contact_phone=?,
        emergency_relation=?,
        examination_fee=?,
        fee_due_date=?,
        fee_status=?,
        full_name=?,
        gender=?,
        grade=?,
        height=?,
        house=?,
        last_fee_update=?,
        last_medical_checkup=?,
        nationality=?,
        other_fees=?,
        paid_amount=?,
        pending_amount=?,
        phone=?,
        pickup_time=?,
        profile_picture=?,
        religion=?,
        roll_number=?,
        status=?,
        student_id=?,
        total_fee=?,
        transport_fee=?,
        transport_fee_status=?,
        transport_mode=?,
        tuition_fee=?,
        updated_at=?,
        weight=? 
    where
        id=?
2026-01-26T00:22:27.700+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:27.722+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:27.726+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        ta1_0.student_id,
        ta1_0.id,
        ta1_0.academic_term_id,
        ta1_0.billing_date,
        ta1_0.created_at,
        ta1_0.due_date,
        ta1_0.is_billed,
        ta1_0.last_payment_date,
        ta1_0.last_reminder_date,
        ta1_0.notes,
        ta1_0.paid_amount,
        ta1_0.pending_amount,
        ta1_0.reminders_sent,
        ta1_0.student_fee_assignment_id,
        ta1_0.term_fee_status,
        ta1_0.total_term_fee,
        ta1_0.updated_at 
    from
        student_term_assignments ta1_0 
    where
        ta1_0.student_id=?
2026-01-26T00:22:27.743+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:27.759+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:27.773+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:27.775+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 11500.0 for student Faith Wangari
2026-01-26T00:22:27.776+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 11500.0 remaining
2026-01-26T00:22:27.776+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Faith Wangari: KES 11500.0, All paid: true
2026-01-26T00:22:27.776+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-FD453C02
2026-01-26T00:22:27.776+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Faith Wangari to send auto-match SMS
2026-01-26T00:22:27.778+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.786+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-386D254B from matched bank transaction NEFT20251108000344 for student Kevin Kiprop
2026-01-26T00:22:27.787+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 11800.0 to student Kevin Kiprop
2026-01-26T00:22:27.794+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:27.812+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    update
        students 
    set
        academic_year=?,
        address=?,
        admission_date=?,
        admission_fee=?,
        blood_group=?,
        blood_pressure=?,
        bus_number=?,
        bus_route=?,
        bus_stop=?,
        category=?,
        class_teacher=?,
        clinic_name=?,
        date_of_birth=?,
        deleted=?,
        doctor_name=?,
        driver_contact=?,
        driver_name=?,
        drop_time=?,
        email=?,
        emergency_contact_name=?,
        emergency_contact_phone=?,
        emergency_relation=?,
        examination_fee=?,
        fee_due_date=?,
        fee_status=?,
        full_name=?,
        gender=?,
        grade=?,
        height=?,
        house=?,
        last_fee_update=?,
        last_medical_checkup=?,
        nationality=?,
        other_fees=?,
        paid_amount=?,
        pending_amount=?,
        phone=?,
        pickup_time=?,
        profile_picture=?,
        religion=?,
        roll_number=?,
        status=?,
        student_id=?,
        total_fee=?,
        transport_fee=?,
        transport_fee_status=?,
        transport_mode=?,
        tuition_fee=?,
        updated_at=?,
        weight=? 
    where
        id=?
2026-01-26T00:22:27.818+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:27.834+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:27.839+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        ta1_0.student_id,
        ta1_0.id,
        ta1_0.academic_term_id,
        ta1_0.billing_date,
        ta1_0.created_at,
        ta1_0.due_date,
        ta1_0.is_billed,
        ta1_0.last_payment_date,
        ta1_0.last_reminder_date,
        ta1_0.notes,
        ta1_0.paid_amount,
        ta1_0.pending_amount,
        ta1_0.reminders_sent,
        ta1_0.student_fee_assignment_id,
        ta1_0.term_fee_status,
        ta1_0.total_term_fee,
        ta1_0.updated_at 
    from
        student_term_assignments ta1_0 
    where
        ta1_0.student_id=?
2026-01-26T00:22:27.853+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:27.863+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:27.873+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:27.875+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 11800.0 for student Kevin Kiprop
2026-01-26T00:22:27.876+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 11800.0 remaining
2026-01-26T00:22:27.876+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Kevin Kiprop: KES 11800.0, All paid: true
2026-01-26T00:22:27.876+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-386D254B
2026-01-26T00:22:27.877+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Kevin Kiprop to send auto-match SMS
2026-01-26T00:22:27.879+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.884+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-1D508BB5 from matched bank transaction IMPS20251110000455 for student Ann Mumbi
2026-01-26T00:22:27.885+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 12200.0 to student Ann Mumbi
2026-01-26T00:22:27.891+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:27.906+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    update
        students 
    set
        academic_year=?,
        address=?,
        admission_date=?,
        admission_fee=?,
        blood_group=?,
        blood_pressure=?,
        bus_number=?,
        bus_route=?,
        bus_stop=?,
        category=?,
        class_teacher=?,
        clinic_name=?,
        date_of_birth=?,
        deleted=?,
        doctor_name=?,
        driver_contact=?,
        driver_name=?,
        drop_time=?,
        email=?,
        emergency_contact_name=?,
        emergency_contact_phone=?,
        emergency_relation=?,
        examination_fee=?,
        fee_due_date=?,
        fee_status=?,
        full_name=?,
        gender=?,
        grade=?,
        height=?,
        house=?,
        last_fee_update=?,
        last_medical_checkup=?,
        nationality=?,
        other_fees=?,
        paid_amount=?,
        pending_amount=?,
        phone=?,
        pickup_time=?,
        profile_picture=?,
        religion=?,
        roll_number=?,
        status=?,
        student_id=?,
        total_fee=?,
        transport_fee=?,
        transport_fee_status=?,
        transport_mode=?,
        tuition_fee=?,
        updated_at=?,
        weight=? 
    where
        id=?
2026-01-26T00:22:27.912+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:27.926+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:27.930+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        ta1_0.student_id,
        ta1_0.id,
        ta1_0.academic_term_id,
        ta1_0.billing_date,
        ta1_0.created_at,
        ta1_0.due_date,
        ta1_0.is_billed,
        ta1_0.last_payment_date,
        ta1_0.last_reminder_date,
        ta1_0.notes,
        ta1_0.paid_amount,
        ta1_0.pending_amount,
        ta1_0.reminders_sent,
        ta1_0.student_fee_assignment_id,
        ta1_0.term_fee_status,
        ta1_0.total_term_fee,
        ta1_0.updated_at 
    from
        student_term_assignments ta1_0 
    where
        ta1_0.student_id=?
2026-01-26T00:22:27.942+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:27.951+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:27.960+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:27.962+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 12200.0 for student Ann Mumbi
2026-01-26T00:22:27.962+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 12200.0 remaining
2026-01-26T00:22:27.962+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Ann Mumbi: KES 12200.0, All paid: true
2026-01-26T00:22:27.962+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-1D508BB5
2026-01-26T00:22:27.962+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Ann Mumbi to send auto-match SMS
2026-01-26T00:22:27.964+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:27.970+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-F90E342A from matched bank transaction CASH-20251112001 for student Michael Kamau
2026-01-26T00:22:27.971+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 5000.0 to student Michael Kamau
2026-01-26T00:22:27.990+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:28.004+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    update
        students 
    set
        academic_year=?,
        address=?,
        admission_date=?,
        admission_fee=?,
        blood_group=?,
        blood_pressure=?,
        bus_number=?,
        bus_route=?,
        bus_stop=?,
        category=?,
        class_teacher=?,
        clinic_name=?,
        date_of_birth=?,
        deleted=?,
        doctor_name=?,
        driver_contact=?,
        driver_name=?,
        drop_time=?,
        email=?,
        emergency_contact_name=?,
        emergency_contact_phone=?,
        emergency_relation=?,
        examination_fee=?,
        fee_due_date=?,
        fee_status=?,
        full_name=?,
        gender=?,
        grade=?,
        height=?,
        house=?,
        last_fee_update=?,
        last_medical_checkup=?,
        nationality=?,
        other_fees=?,
        paid_amount=?,
        pending_amount=?,
        phone=?,
        pickup_time=?,
        profile_picture=?,
        religion=?,
        roll_number=?,
        status=?,
        student_id=?,
        total_fee=?,
        transport_fee=?,
        transport_fee_status=?,
        transport_mode=?,
        tuition_fee=?,
        updated_at=?,
        weight=? 
    where
        id=?
2026-01-26T00:22:28.009+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.024+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.028+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        ta1_0.student_id,
        ta1_0.id,
        ta1_0.academic_term_id,
        ta1_0.billing_date,
        ta1_0.created_at,
        ta1_0.due_date,
        ta1_0.is_billed,
        ta1_0.last_payment_date,
        ta1_0.last_reminder_date,
        ta1_0.notes,
        ta1_0.paid_amount,
        ta1_0.pending_amount,
        ta1_0.reminders_sent,
        ta1_0.student_fee_assignment_id,
        ta1_0.term_fee_status,
        ta1_0.total_term_fee,
        ta1_0.updated_at 
    from
        student_term_assignments ta1_0 
    where
        ta1_0.student_id=?
2026-01-26T00:22:28.039+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:28.051+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:28.061+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:28.064+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 5000.0 for student Michael Kamau
2026-01-26T00:22:28.064+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 5000.0 remaining
2026-01-26T00:22:28.064+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Michael Kamau: KES 5000.0, All paid: true
2026-01-26T00:22:28.065+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-F90E342A
2026-01-26T00:22:28.065+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Michael Kamau to send auto-match SMS
2026-01-26T00:22:28.068+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:28.072+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-6627702C from matched bank transaction UPI20251115000566 for student Ahmed Hassan
2026-01-26T00:22:28.073+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 12500.0 to student Ahmed Hassan
2026-01-26T00:22:28.083+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:28.101+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    update
        students 
    set
        academic_year=?,
        address=?,
        admission_date=?,
        admission_fee=?,
        blood_group=?,
        blood_pressure=?,
        bus_number=?,
        bus_route=?,
        bus_stop=?,
        category=?,
        class_teacher=?,
        clinic_name=?,
        date_of_birth=?,
        deleted=?,
        doctor_name=?,
        driver_contact=?,
        driver_name=?,
        drop_time=?,
        email=?,
        emergency_contact_name=?,
        emergency_contact_phone=?,
        emergency_relation=?,
        examination_fee=?,
        fee_due_date=?,
        fee_status=?,
        full_name=?,
        gender=?,
        grade=?,
        height=?,
        house=?,
        last_fee_update=?,
        last_medical_checkup=?,
        nationality=?,
        other_fees=?,
        paid_amount=?,
        pending_amount=?,
        phone=?,
        pickup_time=?,
        profile_picture=?,
        religion=?,
        roll_number=?,
        status=?,
        student_id=?,
        total_fee=?,
        transport_fee=?,
        transport_fee_status=?,
        transport_mode=?,
        tuition_fee=?,
        updated_at=?,
        weight=? 
    where
        id=?
2026-01-26T00:22:28.107+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.120+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.125+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        ta1_0.student_id,
        ta1_0.id,
        ta1_0.academic_term_id,
        ta1_0.billing_date,
        ta1_0.created_at,
        ta1_0.due_date,
        ta1_0.is_billed,
        ta1_0.last_payment_date,
        ta1_0.last_reminder_date,
        ta1_0.notes,
        ta1_0.paid_amount,
        ta1_0.pending_amount,
        ta1_0.reminders_sent,
        ta1_0.student_fee_assignment_id,
        ta1_0.term_fee_status,
        ta1_0.total_term_fee,
        ta1_0.updated_at 
    from
        student_term_assignments ta1_0 
    where
        ta1_0.student_id=?
2026-01-26T00:22:28.138+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:28.147+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:28.155+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:28.156+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 12500.0 for student Ahmed Hassan
2026-01-26T00:22:28.157+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 12500.0 remaining
2026-01-26T00:22:28.157+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Ahmed Hassan: KES 12500.0, All paid: true
2026-01-26T00:22:28.157+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-6627702C
2026-01-26T00:22:28.157+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Ahmed Hassan to send auto-match SMS
2026-01-26T00:22:28.159+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:28.163+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-91AA030F from matched bank transaction NEFT20251118000677 for student Sarah Jepkorir
2026-01-26T00:22:28.164+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 11600.0 to student Sarah Jepkorir
2026-01-26T00:22:28.172+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:28.188+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    update
        students 
    set
        academic_year=?,
        address=?,
        admission_date=?,
        admission_fee=?,
        blood_group=?,
        blood_pressure=?,
        bus_number=?,
        bus_route=?,
        bus_stop=?,
        category=?,
        class_teacher=?,
        clinic_name=?,
        date_of_birth=?,
        deleted=?,
        doctor_name=?,
        driver_contact=?,
        driver_name=?,
        drop_time=?,
        email=?,
        emergency_contact_name=?,
        emergency_contact_phone=?,
        emergency_relation=?,
        examination_fee=?,
        fee_due_date=?,
        fee_status=?,
        full_name=?,
        gender=?,
        grade=?,
        height=?,
        house=?,
        last_fee_update=?,
        last_medical_checkup=?,
        nationality=?,
        other_fees=?,
        paid_amount=?,
        pending_amount=?,
        phone=?,
        pickup_time=?,
        profile_picture=?,
        religion=?,
        roll_number=?,
        status=?,
        student_id=?,
        total_fee=?,
        transport_fee=?,
        transport_fee_status=?,
        transport_mode=?,
        tuition_fee=?,
        updated_at=?,
        weight=? 
    where
        id=?
2026-01-26T00:22:28.194+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.206+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.209+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        ta1_0.student_id,
        ta1_0.id,
        ta1_0.academic_term_id,
        ta1_0.billing_date,
        ta1_0.created_at,
        ta1_0.due_date,
        ta1_0.is_billed,
        ta1_0.last_payment_date,
        ta1_0.last_reminder_date,
        ta1_0.notes,
        ta1_0.paid_amount,
        ta1_0.pending_amount,
        ta1_0.reminders_sent,
        ta1_0.student_fee_assignment_id,
        ta1_0.term_fee_status,
        ta1_0.total_term_fee,
        ta1_0.updated_at 
    from
        student_term_assignments ta1_0 
    where
        ta1_0.student_id=?
2026-01-26T00:22:28.220+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:28.227+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:28.236+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:28.238+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 11600.0 for student Sarah Jepkorir
2026-01-26T00:22:28.239+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 11600.0 remaining
2026-01-26T00:22:28.239+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Sarah Jepkorir: KES 11600.0, All paid: true
2026-01-26T00:22:28.239+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-91AA030F
2026-01-26T00:22:28.239+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Sarah Jepkorir to send auto-match SMS
2026-01-26T00:22:28.242+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:28.246+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-5F9A94BE from matched bank transaction UPI20251120000788 for student James Okoth
2026-01-26T00:22:28.247+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 11900.0 to student James Okoth
2026-01-26T00:22:28.257+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:28.271+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    update
        students 
    set
        academic_year=?,
        address=?,
        admission_date=?,
        admission_fee=?,
        blood_group=?,
        blood_pressure=?,
        bus_number=?,
        bus_route=?,
        bus_stop=?,
        category=?,
        class_teacher=?,
        clinic_name=?,
        date_of_birth=?,
        deleted=?,
        doctor_name=?,
        driver_contact=?,
        driver_name=?,
        drop_time=?,
        email=?,
        emergency_contact_name=?,
        emergency_contact_phone=?,
        emergency_relation=?,
        examination_fee=?,
        fee_due_date=?,
        fee_status=?,
        full_name=?,
        gender=?,
        grade=?,
        height=?,
        house=?,
        last_fee_update=?,
        last_medical_checkup=?,
        nationality=?,
        other_fees=?,
        paid_amount=?,
        pending_amount=?,
        phone=?,
        pickup_time=?,
        profile_picture=?,
        religion=?,
        roll_number=?,
        status=?,
        student_id=?,
        total_fee=?,
        transport_fee=?,
        transport_fee_status=?,
        transport_mode=?,
        tuition_fee=?,
        updated_at=?,
        weight=? 
    where
        id=?
2026-01-26T00:22:28.275+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.287+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.291+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        ta1_0.student_id,
        ta1_0.id,
        ta1_0.academic_term_id,
        ta1_0.billing_date,
        ta1_0.created_at,
        ta1_0.due_date,
        ta1_0.is_billed,
        ta1_0.last_payment_date,
        ta1_0.last_reminder_date,
        ta1_0.notes,
        ta1_0.paid_amount,
        ta1_0.pending_amount,
        ta1_0.reminders_sent,
        ta1_0.student_fee_assignment_id,
        ta1_0.term_fee_status,
        ta1_0.total_term_fee,
        ta1_0.updated_at 
    from
        student_term_assignments ta1_0 
    where
        ta1_0.student_id=?
2026-01-26T00:22:28.299+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:28.307+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:28.314+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:28.317+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 11900.0 for student James Okoth
2026-01-26T00:22:28.317+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 11900.0 remaining
2026-01-26T00:22:28.317+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student James Okoth: KES 11900.0, All paid: true
2026-01-26T00:22:28.318+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-5F9A94BE
2026-01-26T00:22:28.318+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student James Okoth to send auto-match SMS
2026-01-26T00:22:28.320+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:28.324+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-9EC95CAA from matched bank transaction RTGS20251122000899 for student Lucy Nyambura
2026-01-26T00:22:28.325+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 12450.0 to student Lucy Nyambura
2026-01-26T00:22:28.329+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:28.342+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    update
        students 
    set
        academic_year=?,
        address=?,
        admission_date=?,
        admission_fee=?,
        blood_group=?,
        blood_pressure=?,
        bus_number=?,
        bus_route=?,
        bus_stop=?,
        category=?,
        class_teacher=?,
        clinic_name=?,
        date_of_birth=?,
        deleted=?,
        doctor_name=?,
        driver_contact=?,
        driver_name=?,
        drop_time=?,
        email=?,
        emergency_contact_name=?,
        emergency_contact_phone=?,
        emergency_relation=?,
        examination_fee=?,
        fee_due_date=?,
        fee_status=?,
        full_name=?,
        gender=?,
        grade=?,
        height=?,
        house=?,
        last_fee_update=?,
        last_medical_checkup=?,
        nationality=?,
        other_fees=?,
        paid_amount=?,
        pending_amount=?,
        phone=?,
        pickup_time=?,
        profile_picture=?,
        religion=?,
        roll_number=?,
        status=?,
        student_id=?,
        total_fee=?,
        transport_fee=?,
        transport_fee_status=?,
        transport_mode=?,
        tuition_fee=?,
        updated_at=?,
        weight=? 
    where
        id=?
2026-01-26T00:22:28.347+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.361+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.366+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        ta1_0.student_id,
        ta1_0.id,
        ta1_0.academic_term_id,
        ta1_0.billing_date,
        ta1_0.created_at,
        ta1_0.due_date,
        ta1_0.is_billed,
        ta1_0.last_payment_date,
        ta1_0.last_reminder_date,
        ta1_0.notes,
        ta1_0.paid_amount,
        ta1_0.pending_amount,
        ta1_0.reminders_sent,
        ta1_0.student_fee_assignment_id,
        ta1_0.term_fee_status,
        ta1_0.total_term_fee,
        ta1_0.updated_at 
    from
        student_term_assignments ta1_0 
    where
        ta1_0.student_id=?
2026-01-26T00:22:28.377+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:28.389+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:28.399+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:28.405+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 12450.0 for student Lucy Nyambura
2026-01-26T00:22:28.405+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 12450.0 remaining
2026-01-26T00:22:28.406+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Lucy Nyambura: KES 12450.0, All paid: true
2026-01-26T00:22:28.406+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-9EC95CAA
2026-01-26T00:22:28.406+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Lucy Nyambura to send auto-match SMS
2026-01-26T00:22:28.408+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:28.413+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-F1D8E1E5 from matched bank transaction CHQ-20251125001 for student Peter Ndirangu
2026-01-26T00:22:28.414+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 8500.0 to student Peter Ndirangu
2026-01-26T00:22:28.421+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:28.434+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    update
        students 
    set
        academic_year=?,
        address=?,
        admission_date=?,
        admission_fee=?,
        blood_group=?,
        blood_pressure=?,
        bus_number=?,
        bus_route=?,
        bus_stop=?,
        category=?,
        class_teacher=?,
        clinic_name=?,
        date_of_birth=?,
        deleted=?,
        doctor_name=?,
        driver_contact=?,
        driver_name=?,
        drop_time=?,
        email=?,
        emergency_contact_name=?,
        emergency_contact_phone=?,
        emergency_relation=?,
        examination_fee=?,
        fee_due_date=?,
        fee_status=?,
        full_name=?,
        gender=?,
        grade=?,
        height=?,
        house=?,
        last_fee_update=?,
        last_medical_checkup=?,
        nationality=?,
        other_fees=?,
        paid_amount=?,
        pending_amount=?,
        phone=?,
        pickup_time=?,
        profile_picture=?,
        religion=?,
        roll_number=?,
        status=?,
        student_id=?,
        total_fee=?,
        transport_fee=?,
        transport_fee_status=?,
        transport_mode=?,
        tuition_fee=?,
        updated_at=?,
        weight=? 
    where
        id=?
2026-01-26T00:22:28.443+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.454+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.458+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        ta1_0.student_id,
        ta1_0.id,
        ta1_0.academic_term_id,
        ta1_0.billing_date,
        ta1_0.created_at,
        ta1_0.due_date,
        ta1_0.is_billed,
        ta1_0.last_payment_date,
        ta1_0.last_reminder_date,
        ta1_0.notes,
        ta1_0.paid_amount,
        ta1_0.pending_amount,
        ta1_0.reminders_sent,
        ta1_0.student_fee_assignment_id,
        ta1_0.term_fee_status,
        ta1_0.total_term_fee,
        ta1_0.updated_at 
    from
        student_term_assignments ta1_0 
    where
        ta1_0.student_id=?
2026-01-26T00:22:28.469+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:28.478+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:28.487+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:28.490+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 8500.0 for student Peter Ndirangu
2026-01-26T00:22:28.490+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 8500.0 remaining
2026-01-26T00:22:28.490+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Peter Ndirangu: KES 8500.0, All paid: true
2026-01-26T00:22:28.490+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-F1D8E1E5
2026-01-26T00:22:28.491+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Peter Ndirangu to send auto-match SMS
2026-01-26T00:22:28.492+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:28.498+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-F095DB0D from matched bank transaction UPI20251128000911 for student Cynthia Akinyi
2026-01-26T00:22:28.499+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 2500.0 to student Cynthia Akinyi
2026-01-26T00:22:28.506+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:28.521+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    update
        students 
    set
        academic_year=?,
        address=?,
        admission_date=?,
        admission_fee=?,
        blood_group=?,
        blood_pressure=?,
        bus_number=?,
        bus_route=?,
        bus_stop=?,
        category=?,
        class_teacher=?,
        clinic_name=?,
        date_of_birth=?,
        deleted=?,
        doctor_name=?,
        driver_contact=?,
        driver_name=?,
        drop_time=?,
        email=?,
        emergency_contact_name=?,
        emergency_contact_phone=?,
        emergency_relation=?,
        examination_fee=?,
        fee_due_date=?,
        fee_status=?,
        full_name=?,
        gender=?,
        grade=?,
        height=?,
        house=?,
        last_fee_update=?,
        last_medical_checkup=?,
        nationality=?,
        other_fees=?,
        paid_amount=?,
        pending_amount=?,
        phone=?,
        pickup_time=?,
        profile_picture=?,
        religion=?,
        roll_number=?,
        status=?,
        student_id=?,
        total_fee=?,
        transport_fee=?,
        transport_fee_status=?,
        transport_mode=?,
        tuition_fee=?,
        updated_at=?,
        weight=? 
    where
        id=?
2026-01-26T00:22:28.528+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.539+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.545+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        ta1_0.student_id,
        ta1_0.id,
        ta1_0.academic_term_id,
        ta1_0.billing_date,
        ta1_0.created_at,
        ta1_0.due_date,
        ta1_0.is_billed,
        ta1_0.last_payment_date,
        ta1_0.last_reminder_date,
        ta1_0.notes,
        ta1_0.paid_amount,
        ta1_0.pending_amount,
        ta1_0.reminders_sent,
        ta1_0.student_fee_assignment_id,
        ta1_0.term_fee_status,
        ta1_0.total_term_fee,
        ta1_0.updated_at 
    from
        student_term_assignments ta1_0 
    where
        ta1_0.student_id=?
2026-01-26T00:22:28.557+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:28.567+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:28.578+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:28.583+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 2500.0 for student Cynthia Akinyi
2026-01-26T00:22:28.584+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 2500.0 remaining
2026-01-26T00:22:28.584+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Cynthia Akinyi: KES 2500.0, All paid: true
2026-01-26T00:22:28.584+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-F095DB0D
2026-01-26T00:22:28.585+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Cynthia Akinyi to send auto-match SMS
2026-01-26T00:22:28.587+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:28.591+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-D89217DB from matched bank transaction IMPS20251130001022 for student Taylor Kim
2026-01-26T00:22:28.592+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 6000.0 to student Taylor Kim
2026-01-26T00:22:28.597+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:28.611+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    update
        students 
    set
        academic_year=?,
        address=?,
        admission_date=?,
        admission_fee=?,
        blood_group=?,
        blood_pressure=?,
        bus_number=?,
        bus_route=?,
        bus_stop=?,
        category=?,
        class_teacher=?,
        clinic_name=?,
        date_of_birth=?,
        deleted=?,
        doctor_name=?,
        driver_contact=?,
        driver_name=?,
        drop_time=?,
        email=?,
        emergency_contact_name=?,
        emergency_contact_phone=?,
        emergency_relation=?,
        examination_fee=?,
        fee_due_date=?,
        fee_status=?,
        full_name=?,
        gender=?,
        grade=?,
        height=?,
        house=?,
        last_fee_update=?,
        last_medical_checkup=?,
        nationality=?,
        other_fees=?,
        paid_amount=?,
        pending_amount=?,
        phone=?,
        pickup_time=?,
        profile_picture=?,
        religion=?,
        roll_number=?,
        status=?,
        student_id=?,
        total_fee=?,
        transport_fee=?,
        transport_fee_status=?,
        transport_mode=?,
        tuition_fee=?,
        updated_at=?,
        weight=? 
    where
        id=?
2026-01-26T00:22:28.620+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.630+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.638+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        ta1_0.student_id,
        ta1_0.id,
        ta1_0.academic_term_id,
        ta1_0.billing_date,
        ta1_0.created_at,
        ta1_0.due_date,
        ta1_0.is_billed,
        ta1_0.last_payment_date,
        ta1_0.last_reminder_date,
        ta1_0.notes,
        ta1_0.paid_amount,
        ta1_0.pending_amount,
        ta1_0.reminders_sent,
        ta1_0.student_fee_assignment_id,
        ta1_0.term_fee_status,
        ta1_0.total_term_fee,
        ta1_0.updated_at 
    from
        student_term_assignments ta1_0 
    where
        ta1_0.student_id=?
2026-01-26T00:22:28.646+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:28.657+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:28.664+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:28.667+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 6000.0 for student Taylor Kim
2026-01-26T00:22:28.668+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 6000.0 remaining
2026-01-26T00:22:28.669+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Taylor Kim: KES 6000.0, All paid: true
2026-01-26T00:22:28.669+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-D89217DB
2026-01-26T00:22:28.670+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Taylor Kim to send auto-match SMS
2026-01-26T00:22:28.671+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:28.675+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-C34166A0 from matched bank transaction CASH-20251202001 for student Wilson Kiptoo
2026-01-26T00:22:28.677+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 3500.0 to student Wilson Kiptoo
2026-01-26T00:22:28.682+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:28.696+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    update
        students 
    set
        academic_year=?,
        address=?,
        admission_date=?,
        admission_fee=?,
        blood_group=?,
        blood_pressure=?,
        bus_number=?,
        bus_route=?,
        bus_stop=?,
        category=?,
        class_teacher=?,
        clinic_name=?,
        date_of_birth=?,
        deleted=?,
        doctor_name=?,
        driver_contact=?,
        driver_name=?,
        drop_time=?,
        email=?,
        emergency_contact_name=?,
        emergency_contact_phone=?,
        emergency_relation=?,
        examination_fee=?,
        fee_due_date=?,
        fee_status=?,
        full_name=?,
        gender=?,
        grade=?,
        height=?,
        house=?,
        last_fee_update=?,
        last_medical_checkup=?,
        nationality=?,
        other_fees=?,
        paid_amount=?,
        pending_amount=?,
        phone=?,
        pickup_time=?,
        profile_picture=?,
        religion=?,
        roll_number=?,
        status=?,
        student_id=?,
        total_fee=?,
        transport_fee=?,
        transport_fee_status=?,
        transport_mode=?,
        tuition_fee=?,
        updated_at=?,
        weight=? 
    where
        id=?
2026-01-26T00:22:28.701+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.712+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.716+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        ta1_0.student_id,
        ta1_0.id,
        ta1_0.academic_term_id,
        ta1_0.billing_date,
        ta1_0.created_at,
        ta1_0.due_date,
        ta1_0.is_billed,
        ta1_0.last_payment_date,
        ta1_0.last_reminder_date,
        ta1_0.notes,
        ta1_0.paid_amount,
        ta1_0.pending_amount,
        ta1_0.reminders_sent,
        ta1_0.student_fee_assignment_id,
        ta1_0.term_fee_status,
        ta1_0.total_term_fee,
        ta1_0.updated_at 
    from
        student_term_assignments ta1_0 
    where
        ta1_0.student_id=?
2026-01-26T00:22:28.726+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:28.734+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:28.740+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:28.743+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 3500.0 for student Wilson Kiptoo
2026-01-26T00:22:28.743+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 3500.0 remaining
2026-01-26T00:22:28.743+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Wilson Kiptoo: KES 3500.0, All paid: true
2026-01-26T00:22:28.743+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-C34166A0
2026-01-26T00:22:28.744+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Wilson Kiptoo to send auto-match SMS
2026-01-26T00:22:28.745+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:28.750+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-588603F6 from matched bank transaction NEFT20251205001133 for student Joyce Awuor
2026-01-26T00:22:28.751+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 1500.0 to student Joyce Awuor
2026-01-26T00:22:28.757+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:28.767+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    update
        students 
    set
        academic_year=?,
        address=?,
        admission_date=?,
        admission_fee=?,
        blood_group=?,
        blood_pressure=?,
        bus_number=?,
        bus_route=?,
        bus_stop=?,
        category=?,
        class_teacher=?,
        clinic_name=?,
        date_of_birth=?,
        deleted=?,
        doctor_name=?,
        driver_contact=?,
        driver_name=?,
        drop_time=?,
        email=?,
        emergency_contact_name=?,
        emergency_contact_phone=?,
        emergency_relation=?,
        examination_fee=?,
        fee_due_date=?,
        fee_status=?,
        full_name=?,
        gender=?,
        grade=?,
        height=?,
        house=?,
        last_fee_update=?,
        last_medical_checkup=?,
        nationality=?,
        other_fees=?,
        paid_amount=?,
        pending_amount=?,
        phone=?,
        pickup_time=?,
        profile_picture=?,
        religion=?,
        roll_number=?,
        status=?,
        student_id=?,
        total_fee=?,
        transport_fee=?,
        transport_fee_status=?,
        transport_mode=?,
        tuition_fee=?,
        updated_at=?,
        weight=? 
    where
        id=?
2026-01-26T00:22:28.773+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.788+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.793+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        ta1_0.student_id,
        ta1_0.id,
        ta1_0.academic_term_id,
        ta1_0.billing_date,
        ta1_0.created_at,
        ta1_0.due_date,
        ta1_0.is_billed,
        ta1_0.last_payment_date,
        ta1_0.last_reminder_date,
        ta1_0.notes,
        ta1_0.paid_amount,
        ta1_0.pending_amount,
        ta1_0.reminders_sent,
        ta1_0.student_fee_assignment_id,
        ta1_0.term_fee_status,
        ta1_0.total_term_fee,
        ta1_0.updated_at 
    from
        student_term_assignments ta1_0 
    where
        ta1_0.student_id=?
2026-01-26T00:22:28.805+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:28.815+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:28.827+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:28.829+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 1500.0 for student Joyce Awuor
2026-01-26T00:22:28.830+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 1500.0 remaining
2026-01-26T00:22:28.830+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Joyce Awuor: KES 1500.0, All paid: true
2026-01-26T00:22:28.830+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-588603F6
2026-01-26T00:22:28.830+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Joyce Awuor to send auto-match SMS
2026-01-26T00:22:28.833+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:28.838+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-EB3F23D0 from matched bank transaction UPI20251207001244 for student Mercy Wanjiru
2026-01-26T00:22:28.839+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 3000.0 to student Mercy Wanjiru
2026-01-26T00:22:28.845+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:28.859+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    update
        students 
    set
        academic_year=?,
        address=?,
        admission_date=?,
        admission_fee=?,
        blood_group=?,
        blood_pressure=?,
        bus_number=?,
        bus_route=?,
        bus_stop=?,
        category=?,
        class_teacher=?,
        clinic_name=?,
        date_of_birth=?,
        deleted=?,
        doctor_name=?,
        driver_contact=?,
        driver_name=?,
        drop_time=?,
        email=?,
        emergency_contact_name=?,
        emergency_contact_phone=?,
        emergency_relation=?,
        examination_fee=?,
        fee_due_date=?,
        fee_status=?,
        full_name=?,
        gender=?,
        grade=?,
        height=?,
        house=?,
        last_fee_update=?,
        last_medical_checkup=?,
        nationality=?,
        other_fees=?,
        paid_amount=?,
        pending_amount=?,
        phone=?,
        pickup_time=?,
        profile_picture=?,
        religion=?,
        roll_number=?,
        status=?,
        student_id=?,
        total_fee=?,
        transport_fee=?,
        transport_fee_status=?,
        transport_mode=?,
        tuition_fee=?,
        updated_at=?,
        weight=? 
    where
        id=?
2026-01-26T00:22:28.863+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.875+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.879+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        ta1_0.student_id,
        ta1_0.id,
        ta1_0.academic_term_id,
        ta1_0.billing_date,
        ta1_0.created_at,
        ta1_0.due_date,
        ta1_0.is_billed,
        ta1_0.last_payment_date,
        ta1_0.last_reminder_date,
        ta1_0.notes,
        ta1_0.paid_amount,
        ta1_0.pending_amount,
        ta1_0.reminders_sent,
        ta1_0.student_fee_assignment_id,
        ta1_0.term_fee_status,
        ta1_0.total_term_fee,
        ta1_0.updated_at 
    from
        student_term_assignments ta1_0 
    where
        ta1_0.student_id=?
2026-01-26T00:22:28.888+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:28.895+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:28.904+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:28.906+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 3000.0 for student Mercy Wanjiru
2026-01-26T00:22:28.906+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 3000.0 remaining
2026-01-26T00:22:28.906+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Mercy Wanjiru: KES 3000.0, All paid: true
2026-01-26T00:22:28.906+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-EB3F23D0
2026-01-26T00:22:28.907+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Mercy Wanjiru to send auto-match SMS
2026-01-26T00:22:28.908+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:28.912+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-200B7739 from matched bank transaction CHQ-20251210001 for student Simon Barasa
2026-01-26T00:22:28.913+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 2500.0 to student Simon Barasa
2026-01-26T00:22:28.919+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:28.930+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    update
        students 
    set
        academic_year=?,
        address=?,
        admission_date=?,
        admission_fee=?,
        blood_group=?,
        blood_pressure=?,
        bus_number=?,
        bus_route=?,
        bus_stop=?,
        category=?,
        class_teacher=?,
        clinic_name=?,
        date_of_birth=?,
        deleted=?,
        doctor_name=?,
        driver_contact=?,
        driver_name=?,
        drop_time=?,
        email=?,
        emergency_contact_name=?,
        emergency_contact_phone=?,
        emergency_relation=?,
        examination_fee=?,
        fee_due_date=?,
        fee_status=?,
        full_name=?,
        gender=?,
        grade=?,
        height=?,
        house=?,
        last_fee_update=?,
        last_medical_checkup=?,
        nationality=?,
        other_fees=?,
        paid_amount=?,
        pending_amount=?,
        phone=?,
        pickup_time=?,
        profile_picture=?,
        religion=?,
        roll_number=?,
        status=?,
        student_id=?,
        total_fee=?,
        transport_fee=?,
        transport_fee_status=?,
        transport_mode=?,
        tuition_fee=?,
        updated_at=?,
        weight=? 
    where
        id=?
2026-01-26T00:22:28.941+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.954+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:28.960+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        ta1_0.student_id,
        ta1_0.id,
        ta1_0.academic_term_id,
        ta1_0.billing_date,
        ta1_0.created_at,
        ta1_0.due_date,
        ta1_0.is_billed,
        ta1_0.last_payment_date,
        ta1_0.last_reminder_date,
        ta1_0.notes,
        ta1_0.paid_amount,
        ta1_0.pending_amount,
        ta1_0.reminders_sent,
        ta1_0.student_fee_assignment_id,
        ta1_0.term_fee_status,
        ta1_0.total_term_fee,
        ta1_0.updated_at 
    from
        student_term_assignments ta1_0 
    where
        ta1_0.student_id=?
2026-01-26T00:22:28.969+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:28.978+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:28.986+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:28.989+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 2500.0 for student Simon Barasa
2026-01-26T00:22:28.989+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 2500.0 remaining
2026-01-26T00:22:28.990+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Simon Barasa: KES 2500.0, All paid: true
2026-01-26T00:22:28.990+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-200B7739
2026-01-26T00:22:28.990+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Simon Barasa to send auto-match SMS
2026-01-26T00:22:28.992+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:28.997+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-D49C6C69 from matched bank transaction UPI20251212001355 for student Joseph Gichuru
2026-01-26T00:22:28.998+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 12000.0 to student Joseph Gichuru
2026-01-26T00:22:29.005+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:29.018+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    update
        students 
    set
        academic_year=?,
        address=?,
        admission_date=?,
        admission_fee=?,
        blood_group=?,
        blood_pressure=?,
        bus_number=?,
        bus_route=?,
        bus_stop=?,
        category=?,
        class_teacher=?,
        clinic_name=?,
        date_of_birth=?,
        deleted=?,
        doctor_name=?,
        driver_contact=?,
        driver_name=?,
        drop_time=?,
        email=?,
        emergency_contact_name=?,
        emergency_contact_phone=?,
        emergency_relation=?,
        examination_fee=?,
        fee_due_date=?,
        fee_status=?,
        full_name=?,
        gender=?,
        grade=?,
        height=?,
        house=?,
        last_fee_update=?,
        last_medical_checkup=?,
        nationality=?,
        other_fees=?,
        paid_amount=?,
        pending_amount=?,
        phone=?,
        pickup_time=?,
        profile_picture=?,
        religion=?,
        roll_number=?,
        status=?,
        student_id=?,
        total_fee=?,
        transport_fee=?,
        transport_fee_status=?,
        transport_mode=?,
        tuition_fee=?,
        updated_at=?,
        weight=? 
    where
        id=?
2026-01-26T00:22:29.025+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.046+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.055+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        ta1_0.student_id,
        ta1_0.id,
        ta1_0.academic_term_id,
        ta1_0.billing_date,
        ta1_0.created_at,
        ta1_0.due_date,
        ta1_0.is_billed,
        ta1_0.last_payment_date,
        ta1_0.last_reminder_date,
        ta1_0.notes,
        ta1_0.paid_amount,
        ta1_0.pending_amount,
        ta1_0.reminders_sent,
        ta1_0.student_fee_assignment_id,
        ta1_0.term_fee_status,
        ta1_0.total_term_fee,
        ta1_0.updated_at 
    from
        student_term_assignments ta1_0 
    where
        ta1_0.student_id=?
2026-01-26T00:22:29.064+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:29.074+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:29.082+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:29.087+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 12000.0 for student Joseph Gichuru
2026-01-26T00:22:29.087+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 12000.0 remaining
2026-01-26T00:22:29.087+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Joseph Gichuru: KES 12000.0, All paid: true
2026-01-26T00:22:29.087+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-D49C6C69
2026-01-26T00:22:29.088+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Joseph Gichuru to send auto-match SMS
2026-01-26T00:22:29.089+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:29.093+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-2E90B0D0 from matched bank transaction NEFT20251215001466 for student Lilian Wairimu
2026-01-26T00:22:29.094+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 11500.0 to student Lilian Wairimu
2026-01-26T00:22:29.099+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:29.109+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    update
        students 
    set
        academic_year=?,
        address=?,
        admission_date=?,
        admission_fee=?,
        blood_group=?,
        blood_pressure=?,
        bus_number=?,
        bus_route=?,
        bus_stop=?,
        category=?,
        class_teacher=?,
        clinic_name=?,
        date_of_birth=?,
        deleted=?,
        doctor_name=?,
        driver_contact=?,
        driver_name=?,
        drop_time=?,
        email=?,
        emergency_contact_name=?,
        emergency_contact_phone=?,
        emergency_relation=?,
        examination_fee=?,
        fee_due_date=?,
        fee_status=?,
        full_name=?,
        gender=?,
        grade=?,
        height=?,
        house=?,
        last_fee_update=?,
        last_medical_checkup=?,
        nationality=?,
        other_fees=?,
        paid_amount=?,
        pending_amount=?,
        phone=?,
        pickup_time=?,
        profile_picture=?,
        religion=?,
        roll_number=?,
        status=?,
        student_id=?,
        total_fee=?,
        transport_fee=?,
        transport_fee_status=?,
        transport_mode=?,
        tuition_fee=?,
        updated_at=?,
        weight=? 
    where
        id=?
2026-01-26T00:22:29.113+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.121+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.125+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        ta1_0.student_id,
        ta1_0.id,
        ta1_0.academic_term_id,
        ta1_0.billing_date,
        ta1_0.created_at,
        ta1_0.due_date,
        ta1_0.is_billed,
        ta1_0.last_payment_date,
        ta1_0.last_reminder_date,
        ta1_0.notes,
        ta1_0.paid_amount,
        ta1_0.pending_amount,
        ta1_0.reminders_sent,
        ta1_0.student_fee_assignment_id,
        ta1_0.term_fee_status,
        ta1_0.total_term_fee,
        ta1_0.updated_at 
    from
        student_term_assignments ta1_0 
    where
        ta1_0.student_id=?
2026-01-26T00:22:29.133+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:29.141+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:29.148+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:29.151+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 11500.0 for student Lilian Wairimu
2026-01-26T00:22:29.151+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 11500.0 remaining
2026-01-26T00:22:29.151+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Lilian Wairimu: KES 11500.0, All paid: true
2026-01-26T00:22:29.151+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-2E90B0D0
2026-01-26T00:22:29.151+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Lilian Wairimu to send auto-match SMS
2026-01-26T00:22:29.153+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:29.157+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-879121D9 from matched bank transaction IMPS20251218001577 for student Vikram Sharma
2026-01-26T00:22:29.157+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 11800.0 to student Vikram Sharma
2026-01-26T00:22:29.162+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:29.177+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    update
        students 
    set
        academic_year=?,
        address=?,
        admission_date=?,
        admission_fee=?,
        blood_group=?,
        blood_pressure=?,
        bus_number=?,
        bus_route=?,
        bus_stop=?,
        category=?,
        class_teacher=?,
        clinic_name=?,
        date_of_birth=?,
        deleted=?,
        doctor_name=?,
        driver_contact=?,
        driver_name=?,
        drop_time=?,
        email=?,
        emergency_contact_name=?,
        emergency_contact_phone=?,
        emergency_relation=?,
        examination_fee=?,
        fee_due_date=?,
        fee_status=?,
        full_name=?,
        gender=?,
        grade=?,
        height=?,
        house=?,
        last_fee_update=?,
        last_medical_checkup=?,
        nationality=?,
        other_fees=?,
        paid_amount=?,
        pending_amount=?,
        phone=?,
        pickup_time=?,
        profile_picture=?,
        religion=?,
        roll_number=?,
        status=?,
        student_id=?,
        total_fee=?,
        transport_fee=?,
        transport_fee_status=?,
        transport_mode=?,
        tuition_fee=?,
        updated_at=?,
        weight=? 
    where
        id=?
2026-01-26T00:22:29.184+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.194+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.198+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        ta1_0.student_id,
        ta1_0.id,
        ta1_0.academic_term_id,
        ta1_0.billing_date,
        ta1_0.created_at,
        ta1_0.due_date,
        ta1_0.is_billed,
        ta1_0.last_payment_date,
        ta1_0.last_reminder_date,
        ta1_0.notes,
        ta1_0.paid_amount,
        ta1_0.pending_amount,
        ta1_0.reminders_sent,
        ta1_0.student_fee_assignment_id,
        ta1_0.term_fee_status,
        ta1_0.total_term_fee,
        ta1_0.updated_at 
    from
        student_term_assignments ta1_0 
    where
        ta1_0.student_id=?
2026-01-26T00:22:29.206+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:29.215+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:29.224+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:29.227+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 11800.0 for student Vikram Sharma
2026-01-26T00:22:29.227+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 11800.0 remaining
2026-01-26T00:22:29.227+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Vikram Sharma: KES 11800.0, All paid: true
2026-01-26T00:22:29.227+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-879121D9
2026-01-26T00:22:29.227+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Vikram Sharma to send auto-match SMS
2026-01-26T00:22:29.229+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:29.237+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-83EF2355 from matched bank transaction CASH-20251220001 for student Brian Otieno
2026-01-26T00:22:29.238+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 12200.0 to student Brian Otieno
2026-01-26T00:22:29.243+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:29.258+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    update
        students 
    set
        academic_year=?,
        address=?,
        admission_date=?,
        admission_fee=?,
        blood_group=?,
        blood_pressure=?,
        bus_number=?,
        bus_route=?,
        bus_stop=?,
        category=?,
        class_teacher=?,
        clinic_name=?,
        date_of_birth=?,
        deleted=?,
        doctor_name=?,
        driver_contact=?,
        driver_name=?,
        drop_time=?,
        email=?,
        emergency_contact_name=?,
        emergency_contact_phone=?,
        emergency_relation=?,
        examination_fee=?,
        fee_due_date=?,
        fee_status=?,
        full_name=?,
        gender=?,
        grade=?,
        height=?,
        house=?,
        last_fee_update=?,
        last_medical_checkup=?,
        nationality=?,
        other_fees=?,
        paid_amount=?,
        pending_amount=?,
        phone=?,
        pickup_time=?,
        profile_picture=?,
        religion=?,
        roll_number=?,
        status=?,
        student_id=?,
        total_fee=?,
        transport_fee=?,
        transport_fee_status=?,
        transport_mode=?,
        tuition_fee=?,
        updated_at=?,
        weight=? 
    where
        id=?
2026-01-26T00:22:29.263+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.277+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.288+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        ta1_0.student_id,
        ta1_0.id,
        ta1_0.academic_term_id,
        ta1_0.billing_date,
        ta1_0.created_at,
        ta1_0.due_date,
        ta1_0.is_billed,
        ta1_0.last_payment_date,
        ta1_0.last_reminder_date,
        ta1_0.notes,
        ta1_0.paid_amount,
        ta1_0.pending_amount,
        ta1_0.reminders_sent,
        ta1_0.student_fee_assignment_id,
        ta1_0.term_fee_status,
        ta1_0.total_term_fee,
        ta1_0.updated_at 
    from
        student_term_assignments ta1_0 
    where
        ta1_0.student_id=?
2026-01-26T00:22:29.296+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:29.306+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:29.312+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:29.314+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 12200.0 for student Brian Otieno
2026-01-26T00:22:29.315+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 12200.0 remaining
2026-01-26T00:22:29.315+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Brian Otieno: KES 12200.0, All paid: true
2026-01-26T00:22:29.315+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-83EF2355
2026-01-26T00:22:29.315+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Brian Otieno to send auto-match SMS
2026-01-26T00:22:29.318+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:29.322+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-D4B7627E from matched bank transaction UPI20251222001688 for student Brian Ochieng
2026-01-26T00:22:29.323+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 12500.0 to student Brian Ochieng
2026-01-26T00:22:29.329+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:29.342+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    update
        students 
    set
        academic_year=?,
        address=?,
        admission_date=?,
        admission_fee=?,
        blood_group=?,
        blood_pressure=?,
        bus_number=?,
        bus_route=?,
        bus_stop=?,
        category=?,
        class_teacher=?,
        clinic_name=?,
        date_of_birth=?,
        deleted=?,
        doctor_name=?,
        driver_contact=?,
        driver_name=?,
        drop_time=?,
        email=?,
        emergency_contact_name=?,
        emergency_contact_phone=?,
        emergency_relation=?,
        examination_fee=?,
        fee_due_date=?,
        fee_status=?,
        full_name=?,
        gender=?,
        grade=?,
        height=?,
        house=?,
        last_fee_update=?,
        last_medical_checkup=?,
        nationality=?,
        other_fees=?,
        paid_amount=?,
        pending_amount=?,
        phone=?,
        pickup_time=?,
        profile_picture=?,
        religion=?,
        roll_number=?,
        status=?,
        student_id=?,
        total_fee=?,
        transport_fee=?,
        transport_fee_status=?,
        transport_mode=?,
        tuition_fee=?,
        updated_at=?,
        weight=? 
    where
        id=?
2026-01-26T00:22:29.345+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.357+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.368+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:29.377+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:29.382+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:29.384+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 12500.0 for student Brian Ochieng
2026-01-26T00:22:29.384+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 12500.0 remaining
2026-01-26T00:22:29.384+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Brian Ochieng: KES 12500.0, All paid: true
2026-01-26T00:22:29.385+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-D4B7627E
2026-01-26T00:22:29.385+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Brian Ochieng to send auto-match SMS
2026-01-26T00:22:29.387+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:29.390+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-976AFFB9 from matched bank transaction NEFT20251225001799 for student Faith Wangari
2026-01-26T00:22:29.392+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 11600.0 to student Faith Wangari
2026-01-26T00:22:29.397+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:29.408+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.420+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.428+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:29.437+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:29.442+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:29.445+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 11600.0 for student Faith Wangari
2026-01-26T00:22:29.445+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 11600.0 remaining
2026-01-26T00:22:29.445+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Faith Wangari: KES 11600.0, All paid: true
2026-01-26T00:22:29.445+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-976AFFB9
2026-01-26T00:22:29.446+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Faith Wangari to send auto-match SMS
2026-01-26T00:22:29.448+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:29.457+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-57AD9AF5 from matched bank transaction UPI20251227001811 for student Kevin Kiprop
2026-01-26T00:22:29.458+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 11900.0 to student Kevin Kiprop
2026-01-26T00:22:29.462+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:29.475+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.493+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.506+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:29.512+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:29.521+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:29.524+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 11900.0 for student Kevin Kiprop
2026-01-26T00:22:29.524+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 11900.0 remaining
2026-01-26T00:22:29.524+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Kevin Kiprop: KES 11900.0, All paid: true
2026-01-26T00:22:29.524+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-57AD9AF5
2026-01-26T00:22:29.524+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Kevin Kiprop to send auto-match SMS
2026-01-26T00:22:29.526+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:29.531+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-915A4528 from matched bank transaction RTGS20251230001922 for student Ann Mumbi
2026-01-26T00:22:29.532+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 12450.0 to student Ann Mumbi
2026-01-26T00:22:29.536+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:29.545+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.556+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.567+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:29.573+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:29.580+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:29.583+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 12450.0 for student Ann Mumbi
2026-01-26T00:22:29.583+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 12450.0 remaining
2026-01-26T00:22:29.583+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Ann Mumbi: KES 12450.0, All paid: true
2026-01-26T00:22:29.583+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-915A4528
2026-01-26T00:22:29.583+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Ann Mumbi to send auto-match SMS
2026-01-26T00:22:29.585+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:29.589+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-775E3F1C from matched bank transaction CHQ-20260102001 for student Michael Kamau
2026-01-26T00:22:29.590+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 8500.0 to student Michael Kamau
2026-01-26T00:22:29.596+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:29.608+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.619+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.626+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:29.637+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:29.643+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:29.645+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 8500.0 for student Michael Kamau
2026-01-26T00:22:29.645+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 8500.0 remaining
2026-01-26T00:22:29.645+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Michael Kamau: KES 8500.0, All paid: true
2026-01-26T00:22:29.645+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-775E3F1C
2026-01-26T00:22:29.646+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Michael Kamau to send auto-match SMS
2026-01-26T00:22:29.649+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:29.657+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-56CC3DB8 from matched bank transaction UPI20260105002033 for student Ahmed Hassan
2026-01-26T00:22:29.658+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 2500.0 to student Ahmed Hassan
2026-01-26T00:22:29.662+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:29.674+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.685+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.693+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:29.701+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:29.712+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:29.715+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 2500.0 for student Ahmed Hassan
2026-01-26T00:22:29.716+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 2500.0 remaining
2026-01-26T00:22:29.717+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Ahmed Hassan: KES 2500.0, All paid: true
2026-01-26T00:22:29.717+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-56CC3DB8
2026-01-26T00:22:29.717+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Ahmed Hassan to send auto-match SMS
2026-01-26T00:22:29.720+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:29.724+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-05597E1E from matched bank transaction IMPS20260107002144 for student Sarah Jepkorir
2026-01-26T00:22:29.726+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 6000.0 to student Sarah Jepkorir
2026-01-26T00:22:29.730+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:29.745+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.759+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.770+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:29.777+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:29.787+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:29.789+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 6000.0 for student Sarah Jepkorir
2026-01-26T00:22:29.790+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 6000.0 remaining
2026-01-26T00:22:29.790+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Sarah Jepkorir: KES 6000.0, All paid: true
2026-01-26T00:22:29.790+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-05597E1E
2026-01-26T00:22:29.790+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Sarah Jepkorir to send auto-match SMS
2026-01-26T00:22:29.792+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:29.796+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-962D5456 from matched bank transaction CASH-20260110001 for student James Okoth
2026-01-26T00:22:29.797+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 3500.0 to student James Okoth
2026-01-26T00:22:29.801+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:29.809+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.818+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.828+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:29.835+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:29.841+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:29.843+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 3500.0 for student James Okoth
2026-01-26T00:22:29.843+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 3500.0 remaining
2026-01-26T00:22:29.844+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student James Okoth: KES 3500.0, All paid: true
2026-01-26T00:22:29.844+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-962D5456
2026-01-26T00:22:29.844+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student James Okoth to send auto-match SMS
2026-01-26T00:22:29.847+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:29.854+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-CCD1FFF8 from matched bank transaction NEFT20260112002255 for student Lucy Nyambura
2026-01-26T00:22:29.855+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 1500.0 to student Lucy Nyambura
2026-01-26T00:22:29.858+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:29.869+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.879+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.891+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:29.898+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:29.907+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:29.909+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 1500.0 for student Lucy Nyambura
2026-01-26T00:22:29.909+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 1500.0 remaining
2026-01-26T00:22:29.910+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Lucy Nyambura: KES 1500.0, All paid: true
2026-01-26T00:22:29.910+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-CCD1FFF8
2026-01-26T00:22:29.910+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Lucy Nyambura to send auto-match SMS
2026-01-26T00:22:29.911+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:29.921+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-411A3C8F from matched bank transaction UPI20260114002366 for student Peter Ndirangu
2026-01-26T00:22:29.922+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 3000.0 to student Peter Ndirangu
2026-01-26T00:22:29.926+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:29.938+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.948+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:29.960+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:29.966+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:29.974+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:29.977+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 3000.0 for student Peter Ndirangu
2026-01-26T00:22:29.977+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 3000.0 remaining
2026-01-26T00:22:29.977+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Peter Ndirangu: KES 3000.0, All paid: true
2026-01-26T00:22:29.977+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-411A3C8F
2026-01-26T00:22:29.977+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Peter Ndirangu to send auto-match SMS
2026-01-26T00:22:29.978+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:29.984+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-CD9FE461 from matched bank transaction CHQ-20260116001 for student Cynthia Akinyi
2026-01-26T00:22:29.985+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 2500.0 to student Cynthia Akinyi
2026-01-26T00:22:29.989+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:30.001+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:30.010+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:30.018+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:30.024+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:30.030+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:30.033+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 2500.0 for student Cynthia Akinyi
2026-01-26T00:22:30.033+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 2500.0 remaining
2026-01-26T00:22:30.033+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Cynthia Akinyi: KES 2500.0, All paid: true
2026-01-26T00:22:30.033+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-CD9FE461
2026-01-26T00:22:30.033+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Cynthia Akinyi to send auto-match SMS
2026-01-26T00:22:30.035+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:30.038+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-18036541 from matched bank transaction UPI20260118002477 for student Taylor Kim
2026-01-26T00:22:30.039+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 12000.0 to student Taylor Kim
2026-01-26T00:22:30.043+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:30.052+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:30.061+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:30.072+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:30.078+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:30.087+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:30.089+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 12000.0 for student Taylor Kim
2026-01-26T00:22:30.089+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 12000.0 remaining
2026-01-26T00:22:30.089+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Taylor Kim: KES 12000.0, All paid: true
2026-01-26T00:22:30.089+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-18036541
2026-01-26T00:22:30.090+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Taylor Kim to send auto-match SMS
2026-01-26T00:22:30.091+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:30.096+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-D4465B30 from matched bank transaction NEFT20260120002588 for student Wilson Kiptoo
2026-01-26T00:22:30.100+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 11500.0 to student Wilson Kiptoo
2026-01-26T00:22:30.107+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:30.117+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:30.126+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:30.134+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:30.141+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:30.147+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:30.150+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 11500.0 for student Wilson Kiptoo
2026-01-26T00:22:30.151+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 11500.0 remaining
2026-01-26T00:22:30.152+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Wilson Kiptoo: KES 11500.0, All paid: true
2026-01-26T00:22:30.152+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-D4465B30
2026-01-26T00:22:30.153+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Wilson Kiptoo to send auto-match SMS
2026-01-26T00:22:30.154+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:30.157+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-7315238A from matched bank transaction IMPS20260122002699 for student Joyce Awuor
2026-01-26T00:22:30.158+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 11800.0 to student Joyce Awuor
2026-01-26T00:22:30.161+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:30.171+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:30.180+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:30.188+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:30.192+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:30.196+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:30.198+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 11800.0 for student Joyce Awuor
2026-01-26T00:22:30.198+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 11800.0 remaining
2026-01-26T00:22:30.198+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Joyce Awuor: KES 11800.0, All paid: true
2026-01-26T00:22:30.198+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-7315238A
2026-01-26T00:22:30.198+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Joyce Awuor to send auto-match SMS
2026-01-26T00:22:30.200+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:30.203+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-57FD7239 from matched bank transaction CASH-20260124001 for student Mercy Wanjiru
2026-01-26T00:22:30.204+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 12200.0 to student Mercy Wanjiru
2026-01-26T00:22:30.207+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:30.214+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:30.221+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:30.227+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:30.233+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:30.239+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:30.241+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 12200.0 for student Mercy Wanjiru
2026-01-26T00:22:30.241+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 12200.0 remaining
2026-01-26T00:22:30.241+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Mercy Wanjiru: KES 12200.0, All paid: true
2026-01-26T00:22:30.241+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-57FD7239
2026-01-26T00:22:30.242+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Mercy Wanjiru to send auto-match SMS
2026-01-26T00:22:30.243+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:30.248+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-3B6B5E7F from matched bank transaction UPI20260126002711 for student Simon Barasa
2026-01-26T00:22:30.249+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 12500.0 to student Simon Barasa
2026-01-26T00:22:30.253+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:30.260+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:30.270+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:30.277+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:30.285+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:30.290+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:30.292+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 12500.0 for student Simon Barasa
2026-01-26T00:22:30.292+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 12500.0 remaining
2026-01-26T00:22:30.293+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Simon Barasa: KES 12500.0, All paid: true
2026-01-26T00:22:30.293+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-3B6B5E7F
2026-01-26T00:22:30.293+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Simon Barasa to send auto-match SMS
2026-01-26T00:22:30.295+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:30.303+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-76A2CAAA from matched bank transaction NEFT20260128002822 for student Joseph Gichuru
2026-01-26T00:22:30.305+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 11600.0 to student Joseph Gichuru
2026-01-26T00:22:30.308+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:30.319+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:30.329+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:30.340+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:30.347+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:30.354+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:30.356+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 11600.0 for student Joseph Gichuru
2026-01-26T00:22:30.356+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 11600.0 remaining
2026-01-26T00:22:30.356+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Joseph Gichuru: KES 11600.0, All paid: true
2026-01-26T00:22:30.356+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-76A2CAAA
2026-01-26T00:22:30.356+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Joseph Gichuru to send auto-match SMS
2026-01-26T00:22:30.358+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:30.362+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-F671BE92 from matched bank transaction UPI20260130002933 for student Lilian Wairimu
2026-01-26T00:22:30.363+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 11900.0 to student Lilian Wairimu
2026-01-26T00:22:30.368+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:30.376+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:30.386+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:30.393+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:30.398+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:30.406+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:30.408+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 11900.0 for student Lilian Wairimu
2026-01-26T00:22:30.408+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 11900.0 remaining
2026-01-26T00:22:30.408+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Lilian Wairimu: KES 11900.0, All paid: true
2026-01-26T00:22:30.409+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-F671BE92
2026-01-26T00:22:30.409+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Lilian Wairimu to send auto-match SMS
2026-01-26T00:22:30.410+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:30.414+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-96AA7A09 from matched bank transaction RTGS20260201003044 for student Vikram Sharma
2026-01-26T00:22:30.415+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 12450.0 to student Vikram Sharma
2026-01-26T00:22:30.418+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:30.425+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:30.430+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:30.436+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:30.440+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:30.445+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:30.446+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 12450.0 for student Vikram Sharma
2026-01-26T00:22:30.446+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 12450.0 remaining
2026-01-26T00:22:30.447+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Vikram Sharma: KES 12450.0, All paid: true
2026-01-26T00:22:30.447+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-96AA7A09
2026-01-26T00:22:30.447+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Vikram Sharma to send auto-match SMS
2026-01-26T00:22:30.449+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        payment_transactions
        (amount, bank_reference, bank_transaction_id, convenience_fee, created_at, discount_applied, fee_assignment_id, installment_id, is_verified, late_fee_paid, notes, payment_date, payment_for, payment_method, receipt_number, sms_id, sms_sent, sms_sent_at, student_id, total_paid, updated_at, verified_at, verified_by) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:22:30.452+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.s.PaymentTransactionService      : âœ… Created payment transaction RC-097A371F from matched bank transaction CHQ-20260203001 for student Brian Otieno
2026-01-26T00:22:30.453+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Applying payment of KES 8500.0 to student Brian Otieno
2026-01-26T00:22:30.455+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        tfi1_0.id,
        tfi1_0.amount,
        tfi1_0.billing_date,
        tfi1_0.created_at,
        tfi1_0.due_date,
        tfi1_0.fee_item_template_id,
        tfi1_0.fee_type,
        tfi1_0.is_auto_generated,
        tfi1_0.is_mandatory,
        tfi1_0.item_name,
        tfi1_0.item_type,
        tfi1_0.notes,
        tfi1_0.original_amount,
        tfi1_0.paid_amount,
        tfi1_0.paid_date,
        tfi1_0.pending_amount,
        tfi1_0.sequence_order,
        tfi1_0.status,
        tfi1_0.student_term_assignment_id,
        tfi1_0.updated_at 
    from
        term_fee_items tfi1_0 
    join
        student_term_assignments sta1_0 
            on sta1_0.id=tfi1_0.student_term_assignment_id 
    where
        sta1_0.student_id=? 
        and tfi1_0.status in ('PENDING', 'PARTIAL', 'OVERDUE') 
    order by
        tfi1_0.due_date,
        tfi1_0.sequence_order
2026-01-26T00:22:30.461+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0 
    left join
        students s1_0 
            on s1_0.id=sta1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:30.469+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        sfa1_0.id,
        sfa1_0.academic_year,
        sfa1_0.assigned_date,
        sfa1_0.created_at,
        sfa1_0.discount_amount,
        sfa1_0.due_date,
        sfa1_0.fee_status,
        sfa1_0.fee_structure_id,
        sfa1_0.is_active,
        sfa1_0.last_payment_date,
        sfa1_0.last_reminder_date,
        sfa1_0.paid_amount,
        sfa1_0.pending_amount,
        sfa1_0.reminders_sent,
        sfa1_0.student_id,
        sfa1_0.total_amount,
        sfa1_0.updated_at 
    from
        student_fee_assignments sfa1_0 
    left join
        students s1_0 
            on s1_0.id=sfa1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=?
2026-01-26T00:22:30.476+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        coalesce(at1_0.is_current, 0)=1
2026-01-26T00:22:30.480+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        ? between at1_0.start_date and at1_0.end_date
2026-01-26T00:22:30.485+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        at1_0.id,
        at1_0.academic_year,
        at1_0.created_at,
        at1_0.end_date,
        at1_0.fee_due_date,
        at1_0.is_current,
        at1_0.start_date,
        at1_0.status,
        at1_0.term_break_description,
        at1_0.term_breaks,
        at1_0.term_code,
        at1_0.term_name,
        at1_0.updated_at 
    from
        academic_terms at1_0 
    where
        at1_0.status='ACTIVE'
2026-01-26T00:22:30.487+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Overpayment of KES 8500.0 for student Brian Otieno
2026-01-26T00:22:30.487+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TermFeeService           : Payment applied: KES 0.0 used, KES 8500.0 remaining
2026-01-26T00:22:30.487+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Applied payment to term fees for student Brian Otieno: KES 8500.0, All paid: true
2026-01-26T00:22:30.487+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“± Attempting to send auto-match SMS for payment: RC-097A371F
2026-01-26T00:22:30.487+03:00  WARN 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : ðŸ“µ No valid phone number available for student Brian Otieno to send auto-match SMS
2026-01-26T00:22:30.488+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : Batch 1: 40 payments, 40 fee applications
2026-01-26T00:22:30.488+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Saved 40 transactions, created 40 payment transactions, applied 40 fee payments
2026-01-26T00:22:30.489+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.t.service.TransactionService       : âœ… Synchronous import completed: 40 transactions, 40 auto-matched
2026-01-26T00:22:30.562+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:22:30.564+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:22:30.567+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:22:30.574+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:22:30.578+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:22:30.592+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:22:30.595+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-1] c.s.S.t.c.TransactionController          : Fetching transaction statistics summary
2026-01-26T00:22:30.598+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        bank_transactions bt1_0
2026-01-26T00:22:30.604+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(bt1_0.id) 
    from
        bank_transactions bt1_0 
    where
        bt1_0.status=?
2026-01-26T00:22:30.609+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(bt1_0.id) 
    from
        bank_transactions bt1_0 
    where
        bt1_0.status=?
2026-01-26T00:22:30.613+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(bt1_0.id) 
    from
        bank_transactions bt1_0 
    where
        bt1_0.status=?
2026-01-26T00:22:30.621+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.is_verified=?
2026-01-26T00:22:30.626+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        count(bt1_0.id) 
    from
        bank_transactions bt1_0 
    where
        bt1_0.status=?
2026-01-26T00:22:30.630+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        coalesce(sum(pt1_0.amount), 0.0) 
    from
        payment_transactions pt1_0
2026-01-26T00:22:30.635+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        coalesce(sum(pt1_0.amount), 0.0) 
    from
        payment_transactions pt1_0 
    where
        date(pt1_0.payment_date)=current_date
2026-01-26T00:22:30.641+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0
2026-01-26T00:22:30.647+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        bt1_0.id,
        bt1_0.amount,
        bt1_0.bank_account,
        bt1_0.bank_branch,
        bt1_0.bank_name,
        bt1_0.bank_reference,
        bt1_0.cheque_number,
        bt1_0.description,
        bt1_0.file_name,
        bt1_0.import_batch_id,
        bt1_0.imported_at,
        bt1_0.matched_at,
        bt1_0.matched_by,
        bt1_0.payment_method,
        bt1_0.sms_id,
        bt1_0.sms_sent,
        bt1_0.sms_sent_at,
        bt1_0.status,
        bt1_0.student_id,
        bt1_0.transaction_date 
    from
        bank_transactions bt1_0 
    where
        bt1_0.transaction_date between ? and ?
2026-01-26T00:22:30.657+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:30.672+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:30.675+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:30.678+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:30.687+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        bt1_0.id,
        bt1_0.amount,
        bt1_0.bank_account,
        bt1_0.bank_branch,
        bt1_0.bank_name,
        bt1_0.bank_reference,
        bt1_0.cheque_number,
        bt1_0.description,
        bt1_0.file_name,
        bt1_0.import_batch_id,
        bt1_0.imported_at,
        bt1_0.matched_at,
        bt1_0.matched_by,
        bt1_0.payment_method,
        bt1_0.sms_id,
        bt1_0.sms_sent,
        bt1_0.sms_sent_at,
        bt1_0.status,
        bt1_0.student_id,
        bt1_0.transaction_date 
    from
        bank_transactions bt1_0 
    where
        bt1_0.transaction_date between ? and ?
2026-01-26T00:22:30.689+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:30.692+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:30.695+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:30.701+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:30.733+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-1] c.s.S.t.c.TransactionController          : âœ… Transaction summary generated in 138ms
2026-01-26T00:22:30.770+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:22:30.772+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:22:30.773+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:22:30.775+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:22:30.777+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:22:30.790+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:22:30.793+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-5] c.s.S.t.c.TransactionController          : Fetching transaction statistics summary
2026-01-26T00:22:30.795+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        bank_transactions bt1_0
2026-01-26T00:22:30.798+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(bt1_0.id) 
    from
        bank_transactions bt1_0 
    where
        bt1_0.status=?
2026-01-26T00:22:30.805+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(bt1_0.id) 
    from
        bank_transactions bt1_0 
    where
        bt1_0.status=?
2026-01-26T00:22:30.810+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(bt1_0.id) 
    from
        bank_transactions bt1_0 
    where
        bt1_0.status=?
2026-01-26T00:22:30.818+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.is_verified=?
2026-01-26T00:22:30.825+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        count(bt1_0.id) 
    from
        bank_transactions bt1_0 
    where
        bt1_0.status=?
2026-01-26T00:22:30.831+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        coalesce(sum(pt1_0.amount), 0.0) 
    from
        payment_transactions pt1_0
2026-01-26T00:22:30.836+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        coalesce(sum(pt1_0.amount), 0.0) 
    from
        payment_transactions pt1_0 
    where
        date(pt1_0.payment_date)=current_date
2026-01-26T00:22:30.841+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        sta1_0.id,
        sta1_0.academic_term_id,
        sta1_0.billing_date,
        sta1_0.created_at,
        sta1_0.due_date,
        sta1_0.is_billed,
        sta1_0.last_payment_date,
        sta1_0.last_reminder_date,
        sta1_0.notes,
        sta1_0.paid_amount,
        sta1_0.pending_amount,
        sta1_0.reminders_sent,
        sta1_0.student_id,
        sta1_0.student_fee_assignment_id,
        sta1_0.term_fee_status,
        sta1_0.total_term_fee,
        sta1_0.updated_at 
    from
        student_term_assignments sta1_0
2026-01-26T00:22:30.847+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        bt1_0.id,
        bt1_0.amount,
        bt1_0.bank_account,
        bt1_0.bank_branch,
        bt1_0.bank_name,
        bt1_0.bank_reference,
        bt1_0.cheque_number,
        bt1_0.description,
        bt1_0.file_name,
        bt1_0.import_batch_id,
        bt1_0.imported_at,
        bt1_0.matched_at,
        bt1_0.matched_by,
        bt1_0.payment_method,
        bt1_0.sms_id,
        bt1_0.sms_sent,
        bt1_0.sms_sent_at,
        bt1_0.status,
        bt1_0.student_id,
        bt1_0.transaction_date 
    from
        bank_transactions bt1_0 
    where
        bt1_0.transaction_date between ? and ?
2026-01-26T00:22:30.850+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:30.853+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:30.857+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:30.860+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:30.867+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        bt1_0.id,
        bt1_0.amount,
        bt1_0.bank_account,
        bt1_0.bank_branch,
        bt1_0.bank_name,
        bt1_0.bank_reference,
        bt1_0.cheque_number,
        bt1_0.description,
        bt1_0.file_name,
        bt1_0.import_batch_id,
        bt1_0.imported_at,
        bt1_0.matched_at,
        bt1_0.matched_by,
        bt1_0.payment_method,
        bt1_0.sms_id,
        bt1_0.sms_sent,
        bt1_0.sms_sent_at,
        bt1_0.status,
        bt1_0.student_id,
        bt1_0.transaction_date 
    from
        bank_transactions bt1_0 
    where
        bt1_0.transaction_date between ? and ?
2026-01-26T00:22:30.872+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:30.877+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:30.880+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:30.884+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:30.890+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-5] c.s.S.t.c.TransactionController          : âœ… Transaction summary generated in 97ms
2026-01-26T00:22:30.989+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:22:30.991+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:22:30.991+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:22:30.994+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:22:30.995+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:22:31.008+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:22:31.013+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-6] c.s.S.t.c.TransactionController          : Fetching ALL bank transactions (no pagination)
2026-01-26T00:22:31.020+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        bt1_0.id,
        bt1_0.amount,
        bt1_0.bank_account,
        bt1_0.bank_branch,
        bt1_0.bank_name,
        bt1_0.bank_reference,
        bt1_0.cheque_number,
        bt1_0.description,
        bt1_0.file_name,
        bt1_0.import_batch_id,
        bt1_0.imported_at,
        bt1_0.matched_at,
        bt1_0.matched_by,
        bt1_0.payment_method,
        bt1_0.sms_id,
        bt1_0.sms_sent,
        bt1_0.sms_sent_at,
        bt1_0.status,
        bt1_0.student_id,
        bt1_0.transaction_date 
    from
        bank_transactions bt1_0
2026-01-26T00:22:31.022+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.026+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.029+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.034+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.039+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.043+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.047+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.052+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.057+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.061+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.065+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.069+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.073+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.076+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.079+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.084+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.088+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.092+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.094+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.102+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.106+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.109+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.113+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.118+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.122+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.126+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.131+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.138+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.141+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.160+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.166+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.173+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.176+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.181+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.187+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.191+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.194+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.196+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.202+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.206+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.bank_transaction_id=?
2026-01-26T00:22:31.212+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:22:31.218+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:22:31.222+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:22:31.225+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:22:31.228+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:22:31.231+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:22:31.237+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:22:31.239+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:22:31.242+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:22:31.246+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:22:31.250+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:22:31.253+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:22:31.256+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:22:31.259+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:22:31.262+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:22:31.265+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:22:31.270+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:22:31.273+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:22:31.276+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:22:31.279+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:22:31.290+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-6] c.s.S.t.c.TransactionController          : Returning ALL 40 transactions (unpaginated) in 276ms
2026-01-26T00:22:31.324+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:22:31.339+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:22:31.341+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:22:31.343+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:22:31.345+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:22:31.358+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:22:31.371+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.s.c.StudentProfileController       : [CONTROLLER] [GET-ALL-STUDENTS] [REQ-1769376151371-43-926] Started - Request received
2026-01-26T00:22:31.373+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [GET-ALL-STUDENTS] Started - Fetching all students with fee info
2026-01-26T00:22:31.376+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        (
            s1_0.deleted = 0
        )
2026-01-26T00:22:31.391+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [GET-ALL-STUDENTS] Found 20 students in database
2026-01-26T00:22:31.392+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 1
2026-01-26T00:22:31.392+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 1
2026-01-26T00:22:31.392+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:31.396+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:31.402+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:31.405+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:31.407+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Brian Ochieng
2026-01-26T00:22:31.410+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:31.418+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 1, Total Fee: 0.0, Paid: 0.0, Pending: 0.0, Status: PAID
2026-01-26T00:22:31.418+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 1
2026-01-26T00:22:31.418+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 2
2026-01-26T00:22:31.418+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 2
2026-01-26T00:22:31.419+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:31.422+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:31.424+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:31.427+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:31.429+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Faith Wangari
2026-01-26T00:22:31.435+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:31.441+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 2, Total Fee: 0.0, Paid: 0.0, Pending: 0.0, Status: PAID
2026-01-26T00:22:31.441+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 2
2026-01-26T00:22:31.441+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 3
2026-01-26T00:22:31.441+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 3
2026-01-26T00:22:31.441+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:31.443+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:31.445+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:31.450+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:31.452+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Kevin Kiprop
2026-01-26T00:22:31.455+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:31.460+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 3, Total Fee: 0.0, Paid: 0.0, Pending: 0.0, Status: PAID
2026-01-26T00:22:31.460+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 3
2026-01-26T00:22:31.460+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 4
2026-01-26T00:22:31.460+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 4
2026-01-26T00:22:31.460+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:31.462+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:31.472+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:31.474+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:31.481+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Ann Mumbi
2026-01-26T00:22:31.488+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:31.492+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 4, Total Fee: 0.0, Paid: 0.0, Pending: 0.0, Status: PAID
2026-01-26T00:22:31.492+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 4
2026-01-26T00:22:31.492+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 5
2026-01-26T00:22:31.492+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 5
2026-01-26T00:22:31.493+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:31.495+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:31.499+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:31.502+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:31.504+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Michael Kamau
2026-01-26T00:22:31.510+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:31.519+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 5, Total Fee: 0.0, Paid: 0.0, Pending: 0.0, Status: PAID
2026-01-26T00:22:31.519+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 5
2026-01-26T00:22:31.519+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 6
2026-01-26T00:22:31.520+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 6
2026-01-26T00:22:31.520+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:31.522+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:31.524+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:31.527+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:31.528+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Ahmed Hassan
2026-01-26T00:22:31.532+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:31.536+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 6, Total Fee: 0.0, Paid: 0.0, Pending: 0.0, Status: PAID
2026-01-26T00:22:31.537+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 6
2026-01-26T00:22:31.537+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 7
2026-01-26T00:22:31.537+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 7
2026-01-26T00:22:31.537+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:31.539+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:31.542+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:31.544+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:31.545+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Sarah Jepkorir
2026-01-26T00:22:31.549+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:31.553+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 7, Total Fee: 0.0, Paid: 0.0, Pending: 0.0, Status: PAID
2026-01-26T00:22:31.553+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 7
2026-01-26T00:22:31.553+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 8
2026-01-26T00:22:31.553+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 8
2026-01-26T00:22:31.554+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:31.558+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:31.561+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:31.563+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:31.567+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: James Okoth
2026-01-26T00:22:31.569+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:31.574+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 8, Total Fee: 0.0, Paid: 0.0, Pending: 0.0, Status: PAID
2026-01-26T00:22:31.574+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 8
2026-01-26T00:22:31.574+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 9
2026-01-26T00:22:31.574+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 9
2026-01-26T00:22:31.575+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:31.577+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:31.579+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:31.582+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:31.585+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Lucy Nyambura
2026-01-26T00:22:31.588+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:31.600+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 9, Total Fee: 0.0, Paid: 0.0, Pending: 0.0, Status: PAID
2026-01-26T00:22:31.600+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 9
2026-01-26T00:22:31.600+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 10
2026-01-26T00:22:31.600+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 10
2026-01-26T00:22:31.600+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:31.603+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:31.605+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:31.607+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:31.608+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Peter Ndirangu
2026-01-26T00:22:31.612+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:31.616+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 10, Total Fee: 0.0, Paid: 0.0, Pending: 0.0, Status: PAID
2026-01-26T00:22:31.617+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 10
2026-01-26T00:22:31.617+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 11
2026-01-26T00:22:31.617+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 11
2026-01-26T00:22:31.617+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:31.620+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:31.622+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:31.625+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:31.626+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Cynthia Akinyi
2026-01-26T00:22:31.630+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:31.637+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 11, Total Fee: 0.0, Paid: 0.0, Pending: 0.0, Status: PAID
2026-01-26T00:22:31.637+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 11
2026-01-26T00:22:31.637+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 12
2026-01-26T00:22:31.637+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 12
2026-01-26T00:22:31.638+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:31.640+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:31.643+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:31.645+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:31.646+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Taylor Kim
2026-01-26T00:22:31.654+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:31.659+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 12, Total Fee: 0.0, Paid: 0.0, Pending: 0.0, Status: PAID
2026-01-26T00:22:31.659+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 12
2026-01-26T00:22:31.659+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 13
2026-01-26T00:22:31.659+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 13
2026-01-26T00:22:31.659+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:31.662+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:31.663+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:31.669+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:31.671+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Wilson Kiptoo
2026-01-26T00:22:31.674+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:31.677+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 13, Total Fee: 0.0, Paid: 0.0, Pending: 0.0, Status: PAID
2026-01-26T00:22:31.677+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 13
2026-01-26T00:22:31.677+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 14
2026-01-26T00:22:31.677+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 14
2026-01-26T00:22:31.677+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:31.679+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:31.682+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:31.686+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:31.687+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Joyce Awuor
2026-01-26T00:22:31.690+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:31.693+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 14, Total Fee: 0.0, Paid: 0.0, Pending: 0.0, Status: PAID
2026-01-26T00:22:31.693+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 14
2026-01-26T00:22:31.693+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 15
2026-01-26T00:22:31.693+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 15
2026-01-26T00:22:31.693+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:31.695+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:31.697+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:31.699+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:31.700+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Mercy Wanjiru
2026-01-26T00:22:31.704+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:31.707+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 15, Total Fee: 0.0, Paid: 0.0, Pending: 0.0, Status: PAID
2026-01-26T00:22:31.707+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 15
2026-01-26T00:22:31.707+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 16
2026-01-26T00:22:31.707+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 16
2026-01-26T00:22:31.707+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:31.709+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:31.711+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:31.713+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:31.715+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Simon Barasa
2026-01-26T00:22:31.718+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:31.720+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 16, Total Fee: 0.0, Paid: 0.0, Pending: 0.0, Status: PAID
2026-01-26T00:22:31.720+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 16
2026-01-26T00:22:31.720+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 17
2026-01-26T00:22:31.720+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 17
2026-01-26T00:22:31.720+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:31.722+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:31.724+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:31.726+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:31.727+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Joseph Gichuru
2026-01-26T00:22:31.730+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:31.734+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 17, Total Fee: 0.0, Paid: 0.0, Pending: 0.0, Status: PAID
2026-01-26T00:22:31.734+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 17
2026-01-26T00:22:31.734+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 18
2026-01-26T00:22:31.734+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 18
2026-01-26T00:22:31.734+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:31.736+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:31.737+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:31.739+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:31.741+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Lilian Wairimu
2026-01-26T00:22:31.744+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:31.747+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 18, Total Fee: 0.0, Paid: 0.0, Pending: 0.0, Status: PAID
2026-01-26T00:22:31.747+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 18
2026-01-26T00:22:31.747+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 19
2026-01-26T00:22:31.747+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 19
2026-01-26T00:22:31.748+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:31.750+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:31.752+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:31.753+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:31.755+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Vikram Sharma
2026-01-26T00:22:31.758+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:31.761+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 19, Total Fee: 0.0, Paid: 0.0, Pending: 0.0, Status: PAID
2026-01-26T00:22:31.761+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 19
2026-01-26T00:22:31.761+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Converting student ID: 20
2026-01-26T00:22:31.761+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Converting student entity to DTO - ID: 20
2026-01-26T00:22:31.762+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        fm1_0.student_id,
        fm1_0.id,
        fm1_0.created_at,
        fm1_0.email,
        fm1_0.full_name,
        fm1_0.is_emergency_contact,
        fm1_0.is_primary_contact,
        fm1_0.occupation,
        fm1_0.phone,
        fm1_0.relation,
        fm1_0.updated_at 
    from
        family_members fm1_0 
    where
        fm1_0.student_id=?
2026-01-26T00:22:31.763+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        mr1_0.student_id,
        mr1_0.id,
        mr1_0.created_at,
        mr1_0.frequency,
        mr1_0.name,
        mr1_0.notes,
        mr1_0.prescribed_by,
        mr1_0.record_type,
        mr1_0.severity,
        mr1_0.updated_at 
    from
        medical_records mr1_0 
    where
        mr1_0.student_id=?
2026-01-26T00:22:31.765+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        a1_0.student_id,
        a1_0.id,
        a1_0.award,
        a1_0.certificate_path,
        a1_0.created_at,
        a1_0.description,
        a1_0.level,
        a1_0.title,
        a1_0.type,
        a1_0.updated_at,
        a1_0.verified_at,
        a1_0.verified_by,
        a1_0.year 
    from
        achievements a1_0 
    where
        a1_0.student_id=?
2026-01-26T00:22:31.767+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        i1_0.student_id,
        i1_0.id,
        i1_0.created_at,
        i1_0.description,
        i1_0.interest_type,
        i1_0.name 
    from
        student_interests i1_0 
    where
        i1_0.student_id=?
2026-01-26T00:22:31.768+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO] Conversion completed for student: Brian Otieno
2026-01-26T00:22:31.770+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    left join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    where
        s1_0.id=? 
        and pt1_0.is_verified
2026-01-26T00:22:31.773+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [ENRICH-WITH-FEE-INFO] Student ID: 20, Total Fee: 0.0, Paid: 0.0, Pending: 0.0, Status: PAID
2026-01-26T00:22:31.773+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [CONVERT-TO-DTO-WITH-FEE-INFO] Completed for student ID: 20
2026-01-26T00:22:31.774+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.student.service.StudentService     : [STUDENT-SERVICE] [GET-ALL-STUDENTS] Completed successfully in 401 ms. Returned 20 students with fee info
2026-01-26T00:22:31.776+03:00  INFO 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.s.c.StudentProfileController       : [CONTROLLER] [GET-ALL-STUDENTS] [REQ-1769376151371-43-926] Completed - Returning 20 students
2026-01-26T00:23:33.931+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:23:33.934+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:23:33.934+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:23:33.936+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:23:33.938+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:23:33.948+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:23:33.970+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:23:33.972+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:23:33.972+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:23:33.976+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:23:33.976+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:23:33.977+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:23:33.979+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:23:33.982+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:23:33.982+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:23:33.982+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:23:33.983+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:23:33.984+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:23:33.984+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:23:33.984+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:23:33.986+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:23:33.986+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:23:33.986+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:23:33.987+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:23:33.987+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:23:33.989+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:23:33.989+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:23:33.993+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:23:33.996+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:23:33.997+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:23:33.997+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:23:34.000+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:23:34.000+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:23:34.002+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:23:34.005+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:23:34.014+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:23:34.022+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        fdc1_0.cache_key,
        fdc1_0.cache_data,
        fdc1_0.cache_type,
        fdc1_0.created_at,
        fdc1_0.data_date,
        fdc1_0.expires_at,
        fdc1_0.updated_at 
    from
        fee_dashboard_cache fdc1_0 
    where
        fdc1_0.cache_key=?
2026-01-26T00:23:34.022+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        fdc1_0.cache_key,
        fdc1_0.cache_data,
        fdc1_0.cache_type,
        fdc1_0.created_at,
        fdc1_0.data_date,
        fdc1_0.expires_at,
        fdc1_0.updated_at 
    from
        fee_dashboard_cache fdc1_0 
    where
        fdc1_0.cache_key=?
2026-01-26T00:23:34.025+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    order by
        pt1_0.payment_date desc 
    limit
        ?, ?
2026-01-26T00:23:34.029+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fdc1_0.cache_key,
        fdc1_0.cache_data,
        fdc1_0.cache_type,
        fdc1_0.created_at,
        fdc1_0.data_date,
        fdc1_0.expires_at,
        fdc1_0.updated_at 
    from
        fee_dashboard_cache fdc1_0 
    where
        fdc1_0.cache_key=?
2026-01-26T00:23:34.034+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        students s1_0 
    where
        (
            s1_0.deleted = 0
        )
2026-01-26T00:23:34.034+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        pt1_0.payment_method,
        count(pt1_0.id),
        coalesce(sum(pt1_0.amount), 0.0) 
    from
        payment_transactions pt1_0 
    group by
        pt1_0.payment_method
2026-01-26T00:23:34.043+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0
2026-01-26T00:23:34.048+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        coalesce(sum(s1_0.total_fee), 0.0) 
    from
        students s1_0 
    where
        (
            s1_0.deleted = 0
        ) 
        and s1_0.deleted=0
2026-01-26T00:23:34.051+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        coalesce(sum(pt1_0.amount), 0.0) 
    from
        payment_transactions pt1_0
2026-01-26T00:23:34.058+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        s1_0.fee_status,
        count(s1_0.id) 
    from
        students s1_0 
    where
        (
            s1_0.deleted = 0
        ) 
        and s1_0.deleted=0 
    group by
        s1_0.fee_status
2026-01-26T00:23:34.061+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:23:34.067+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(s1_0.id) 
    from
        students s1_0 
    where
        (
            s1_0.deleted = 0
        ) 
        and s1_0.paid_amount>0 
        and s1_0.paid_amount<s1_0.total_fee 
        and s1_0.deleted=0
2026-01-26T00:23:34.068+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:23:34.071+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:23:34.076+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:23:34.078+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:23:34.101+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        case 
            when s1_0.pending_amount<=1000 
                then '0-1K' 
            when s1_0.pending_amount<=5000 
                then '1K-5K' 
            when s1_0.pending_amount<=10000 
                then '5K-10K' 
            when s1_0.pending_amount<=20000 
                then '10K-20K' 
            else '20K+' 
    end,
    count(s1_0.id),
    coalesce(sum(s1_0.pending_amount), 0.0) 
from
    students s1_0 
where
    (
        s1_0.deleted = 0
    ) 
    and s1_0.fee_status='OVERDUE' 
    and s1_0.deleted=0 
group by
    case 
        when s1_0.pending_amount<=1000 
            then '0-1K' 
        when s1_0.pending_amount<=5000 
            then '1K-5K' 
        when s1_0.pending_amount<=10000 
            then '5K-10K' 
        when s1_0.pending_amount<=20000 
            then '10K-20K' 
        else '20K+' 
end
2026-01-26T00:23:34.129+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:23:34.131+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:23:34.132+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:23:34.135+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:23:34.136+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        fdc1_0.cache_key,
        fdc1_0.cache_data,
        fdc1_0.cache_type,
        fdc1_0.created_at,
        fdc1_0.data_date,
        fdc1_0.expires_at,
        fdc1_0.updated_at 
    from
        fee_dashboard_cache fdc1_0 
    where
        fdc1_0.cache_key=?
2026-01-26T00:23:34.137+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:23:34.147+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:23:34.166+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:23:34.169+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:23:34.171+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:23:34.173+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:23:34.175+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:23:34.191+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:23:34.202+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    order by
        pt1_0.payment_date desc 
    limit
        ?, ?
2026-01-26T00:23:34.208+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0
2026-01-26T00:23:34.212+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:23:34.216+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:23:34.223+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:23:34.227+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:23:34.230+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:23:34.254+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:23:34.256+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:23:34.257+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:23:34.260+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:23:34.262+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:23:34.275+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:23:34.281+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        case 
            when s1_0.pending_amount<=1000 
                then '0-1K' 
            when s1_0.pending_amount<=5000 
                then '1K-5K' 
            when s1_0.pending_amount<=10000 
                then '5K-10K' 
            when s1_0.pending_amount<=20000 
                then '10K-20K' 
            else '20K+' 
    end,
    count(s1_0.id),
    coalesce(sum(s1_0.pending_amount), 0.0) 
from
    students s1_0 
where
    (
        s1_0.deleted = 0
    ) 
    and s1_0.fee_status='OVERDUE' 
    and s1_0.deleted=0 
group by
    case 
        when s1_0.pending_amount<=1000 
            then '0-1K' 
        when s1_0.pending_amount<=5000 
            then '1K-5K' 
        when s1_0.pending_amount<=10000 
            then '5K-10K' 
        when s1_0.pending_amount<=20000 
            then '10K-20K' 
        else '20K+' 
end
2026-01-26T00:23:34.323+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    insert 
    into
        fee_dashboard_cache
        (cache_data, cache_type, created_at, data_date, expires_at, updated_at, cache_key) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:23:34.338+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        (
            s1_0.deleted = 0
        ) 
        and 1=1 
    order by
        s1_0.created_at desc 
    limit
        ?, ?
2026-01-26T00:23:34.339+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        (
            s1_0.deleted = 0
        ) 
        and 1=1 
    order by
        s1_0.created_at desc 
    limit
        ?, ?
2026-01-26T00:23:34.368+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.372+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.376+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.380+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.383+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:23:34.398+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:23:34.399+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:23:34.402+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.402+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:23:34.404+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.404+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:23:34.417+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.417+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:23:34.433+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.437+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-5] org.hibernate.SQL                        : 
    select
        fdc1_0.cache_key,
        fdc1_0.cache_data,
        fdc1_0.cache_type,
        fdc1_0.created_at,
        fdc1_0.data_date,
        fdc1_0.expires_at,
        fdc1_0.updated_at 
    from
        fee_dashboard_cache fdc1_0 
    where
        fdc1_0.cache_key=?
2026-01-26T00:23:34.439+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.439+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.525+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.531+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.533+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.537+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.538+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.543+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.549+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.551+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.556+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.559+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.564+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.568+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.569+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.574+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.575+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.587+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.588+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.591+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.597+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.598+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.604+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.606+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.612+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.615+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.620+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.620+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.632+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.632+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.638+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.643+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.641+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.649+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.649+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.653+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.654+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.657+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.658+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.661+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.661+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.666+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.666+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.671+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.678+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.682+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.686+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.687+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.690+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.690+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.693+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.695+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.698+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.700+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.703+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.704+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.711+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.711+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.714+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.719+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.721+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.723+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.725+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.727+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.729+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.730+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.732+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.733+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.736+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.736+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.740+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.740+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.744+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.745+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.749+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.749+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.753+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.753+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.757+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.757+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.761+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.761+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.765+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.765+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.768+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.768+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.771+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.771+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.775+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.775+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.778+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.779+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.783+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.783+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.789+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.793+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.798+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.801+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.803+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.806+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.806+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.812+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.812+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.816+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.816+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.819+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.820+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    SELECT
        COUNT(DISTINCT student_id) 
    FROM
        (     SELECT
            student_id     
        FROM
            payment_transactions     
        GROUP BY
            student_id     
        HAVING
            COUNT(*) > 1 ) AS multi_pay_students 
2026-01-26T00:23:34.820+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.823+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.823+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.827+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.828+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.831+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.831+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.833+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.833+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.838+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.838+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.841+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.841+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.847+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        payment_transactions pt1_0
2026-01-26T00:23:34.850+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.852+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        coalesce(sum(pt1_0.amount), 0.0) 
    from
        payment_transactions pt1_0 
    where
        date(pt1_0.payment_date)=current_date
2026-01-26T00:23:34.855+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.867+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.869+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    SELECT
        DATE(payment_date) as period,
        COALESCE(SUM(amount), 0.0) as collected 
    FROM
        payment_transactions 
    WHERE
        payment_date >= ? 
        AND payment_date <= ? 
    GROUP BY
        DATE(payment_date) 
    ORDER BY
        period
2026-01-26T00:23:34.871+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.875+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.888+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.893+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.897+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.897+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.900+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.900+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.903+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.903+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.906+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.910+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.912+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        coalesce(sum(pt1_0.amount), 0.0) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.payment_date>=?
2026-01-26T00:23:34.914+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.914+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.918+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        coalesce(sum(pt1_0.amount), 0.0) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.payment_date>=?
2026-01-26T00:23:34.918+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.919+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.922+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.934+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.935+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.938+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.943+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        date(fr1_0.created_at)=current_date 
        and fr1_0.status='SENT'
2026-01-26T00:23:34.945+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.947+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.950+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        fee_reminders fr1_0
2026-01-26T00:23:34.951+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.953+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.958+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        s1_0.grade,
        coalesce(sum(pt1_0.amount), 0.0) 
    from
        payment_transactions pt1_0 
    join
        students s1_0 
            on s1_0.id=pt1_0.student_id 
            and (s1_0.deleted = 0) 
    group by
        s1_0.grade
2026-01-26T00:23:34.979+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.983+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:34.997+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.001+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.012+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        fdc1_0.cache_key,
        fdc1_0.cache_data,
        fdc1_0.cache_type,
        fdc1_0.created_at,
        fdc1_0.data_date,
        fdc1_0.expires_at,
        fdc1_0.updated_at 
    from
        fee_dashboard_cache fdc1_0 
    where
        fdc1_0.cache_key=?
2026-01-26T00:23:35.021+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] c.s.S.fee.service.FeeCollectionService   : Successfully cached dashboard stats with key: dashboard_stats_2026-01-26
2026-01-26T00:23:35.023+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.023+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    insert 
    into
        fee_dashboard_cache
        (cache_data, cache_type, created_at, data_date, expires_at, updated_at, cache_key) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:23:35.030+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.036+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.036+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.039+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.039+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.043+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.043+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.046+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.046+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.052+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.061+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.064+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.071+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.073+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.084+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.091+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.097+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.100+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.104+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.105+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.111+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.112+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.122+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.121+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.127+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.131+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.139+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.147+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.150+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.155+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.162+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.167+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        fdc1_0.cache_key,
        fdc1_0.cache_data,
        fdc1_0.cache_type,
        fdc1_0.created_at,
        fdc1_0.data_date,
        fdc1_0.expires_at,
        fdc1_0.updated_at 
    from
        fee_dashboard_cache fdc1_0 
    where
        fdc1_0.cache_key=?
2026-01-26T00:23:35.167+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.147+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.170+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.173+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.175+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.185+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.190+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.194+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.198+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.198+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.202+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.202+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.206+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.206+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.209+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.210+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.215+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.215+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.218+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.218+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.220+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.220+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.224+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.224+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.229+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.230+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.233+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.233+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.237+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.237+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.240+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.240+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.244+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.244+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.246+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    insert 
    into
        fee_dashboard_cache
        (cache_data, cache_type, created_at, data_date, expires_at, updated_at, cache_key) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-26T00:23:35.248+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.252+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.257+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.263+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.284+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.288+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.294+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.299+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.317+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.324+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.329+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(pt1_0.payment_date) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.336+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(pt1_0.id) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.341+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct pt1_0.payment_method 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.347+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        avg(pt1_0.amount) 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=?
2026-01-26T00:23:35.372+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        count(fr1_0.id) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.378+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        max(fr1_0.sent_at) 
    from
        fee_reminders fr1_0 
    where
        fr1_0.student_id=? 
        and fr1_0.status='SENT'
2026-01-26T00:23:35.554+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:23:35.558+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:23:35.559+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:23:35.563+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:23:35.566+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:23:35.579+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:23:35.585+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:23:35.586+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:23:35.587+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:23:35.588+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        fdc1_0.cache_key,
        fdc1_0.cache_data,
        fdc1_0.cache_type,
        fdc1_0.created_at,
        fdc1_0.data_date,
        fdc1_0.expires_at,
        fdc1_0.updated_at 
    from
        fee_dashboard_cache fdc1_0 
    where
        fdc1_0.cache_key=?
2026-01-26T00:23:35.591+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:23:35.596+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:23:35.609+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:23:35.637+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        fdc1_0.cache_key,
        fdc1_0.cache_data,
        fdc1_0.cache_type,
        fdc1_0.created_at,
        fdc1_0.data_date,
        fdc1_0.expires_at,
        fdc1_0.updated_at 
    from
        fee_dashboard_cache fdc1_0 
    where
        fdc1_0.cache_key=?
2026-01-26T00:24:23.580+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:24:23.583+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:24:23.585+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:24:23.590+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:24:23.593+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:24:23.603+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:24:23.626+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=? 
    order by
        pt1_0.payment_date desc 
    limit
        ?
2026-01-26T00:24:23.633+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:24:34.796+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:24:34.798+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:24:34.799+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:24:34.802+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:24:34.803+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:24:34.816+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:24:34.822+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=? 
    order by
        pt1_0.payment_date desc 
    limit
        ?
2026-01-26T00:24:34.825+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:24:45.196+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:24:45.197+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:24:45.198+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:24:45.200+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:24:45.203+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:24:45.213+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:24:45.220+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=? 
    order by
        pt1_0.payment_date desc 
    limit
        ?
2026-01-26T00:24:45.226+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-8] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:25:06.178+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] c.s.S.config.JwtRequestFilter            : Extracted username from JWT: accountant
2026-01-26T00:25:06.179+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] c.s.S.a.s.CustomUserDetailsService       : Loading user by username/email: accountant
2026-01-26T00:25:06.181+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.created_at,
        u1_0.email,
        u1_0.failed_login_attempts,
        u1_0.full_name,
        u1_0.is_account_non_expired,
        u1_0.is_account_non_locked,
        u1_0.is_credentials_non_expired,
        u1_0.is_enabled,
        u1_0.last_login_at,
        u1_0.locked_until,
        u1_0.password,
        u1_0.password_changed_at,
        u1_0.phone,
        u1_0.profile_picture,
        u1_0.role,
        u1_0.updated_at,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=? 
        or u1_0.email=?
2026-01-26T00:25:06.183+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        r1_0.user_id,
        r1_0.role 
    from
        user_roles r1_0 
    where
        r1_0.user_id=?
2026-01-26T00:25:06.184+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] c.s.S.a.s.CustomUserDetailsService       : User loaded successfully: accountant
2026-01-26T00:25:06.192+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] c.s.S.config.JwtRequestFilter            : Authenticated user: accountant
2026-01-26T00:25:06.199+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        pt1_0.id,
        pt1_0.amount,
        pt1_0.bank_reference,
        pt1_0.bank_transaction_id,
        pt1_0.convenience_fee,
        pt1_0.created_at,
        pt1_0.discount_applied,
        pt1_0.fee_assignment_id,
        pt1_0.installment_id,
        pt1_0.is_verified,
        pt1_0.late_fee_paid,
        pt1_0.notes,
        pt1_0.payment_date,
        pt1_0.payment_for,
        pt1_0.payment_method,
        pt1_0.receipt_number,
        pt1_0.sms_id,
        pt1_0.sms_sent,
        pt1_0.sms_sent_at,
        pt1_0.student_id,
        pt1_0.total_paid,
        pt1_0.updated_at,
        pt1_0.verified_at,
        pt1_0.verified_by 
    from
        payment_transactions pt1_0 
    where
        pt1_0.student_id=? 
    order by
        pt1_0.payment_date desc 
    limit
        ?
2026-01-26T00:25:06.204+03:00 DEBUG 5928 --- [school-management-system] [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        s1_0.id,
        s1_0.academic_year,
        s1_0.address,
        s1_0.admission_date,
        s1_0.admission_fee,
        s1_0.blood_group,
        s1_0.blood_pressure,
        s1_0.bus_number,
        s1_0.bus_route,
        s1_0.bus_stop,
        s1_0.category,
        s1_0.class_teacher,
        s1_0.clinic_name,
        s1_0.created_at,
        s1_0.date_of_birth,
        s1_0.deleted,
        s1_0.doctor_name,
        s1_0.driver_contact,
        s1_0.driver_name,
        s1_0.drop_time,
        s1_0.email,
        s1_0.emergency_contact_name,
        s1_0.emergency_contact_phone,
        s1_0.emergency_relation,
        s1_0.examination_fee,
        s1_0.fee_due_date,
        s1_0.fee_status,
        s1_0.full_name,
        s1_0.gender,
        s1_0.grade,
        s1_0.height,
        s1_0.house,
        s1_0.last_fee_update,
        s1_0.last_medical_checkup,
        s1_0.nationality,
        s1_0.other_fees,
        s1_0.paid_amount,
        s1_0.pending_amount,
        s1_0.phone,
        s1_0.pickup_time,
        s1_0.profile_picture,
        s1_0.religion,
        s1_0.roll_number,
        s1_0.status,
        s1_0.student_id,
        s1_0.total_fee,
        s1_0.transport_fee,
        s1_0.transport_fee_status,
        s1_0.transport_mode,
        s1_0.tuition_fee,
        s1_0.updated_at,
        s1_0.weight 
    from
        students s1_0 
    where
        s1_0.id=? 
        and (
            s1_0.deleted = 0
        )
2026-01-26T00:26:44.057+03:00 DEBUG 5928 --- [school-management-system] [sms-scheduler-3] c.s.S.fee.service.FeeCollectionService   : Cleaning expired cache entries...
2026-01-26T00:26:44.070+03:00 DEBUG 5928 --- [school-management-system] [sms-scheduler-3] org.hibernate.SQL                        : 
    select
        fdc1_0.cache_key,
        fdc1_0.cache_data,
        fdc1_0.cache_type,
        fdc1_0.created_at,
        fdc1_0.data_date,
        fdc1_0.expires_at,
        fdc1_0.updated_at 
    from
        fee_dashboard_cache fdc1_0 
    where
        fdc1_0.expires_at<?
2026-01-26T00:26:47.795+03:00  INFO 5928 --- [school-management-system] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-26T00:26:47.806+03:00  INFO 5928 --- [school-management-system] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2026-01-26T00:26:47.828+03:00  INFO 5928 --- [school-management-system] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-26T00:26:47.835+03:00  INFO 5928 --- [school-management-system] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-26T00:26:47.848+03:00  INFO 5928 --- [school-management-system] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
